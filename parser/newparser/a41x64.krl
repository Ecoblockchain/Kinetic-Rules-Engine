{"global":[{"content":".KOBJ_reset *  { display: block; color: black; font-family: arial; }    \t.KOBJ_reset li              { display: list-item }    \t.KOBJ_reset head            { display: none }    \t.KOBJ_reset table           { display: table }    \t.KOBJ_reset tr              { display: table-row }    \t.KOBJ_reset thead           { display: table-header-group }    \t.KOBJ_reset tbody           { display: table-row-group }    \t.KOBJ_reset tfoot           { display: table-footer-group }    \t.KOBJ_reset col             { display: table-column }    \t.KOBJ_reset colgroup        { display: table-column-group }    \t.KOBJ_reset td, th          { display: table-cell }    \t.KOBJ_reset caption         { display: table-caption }    \t.KOBJ_reset th              { font-weight: bolder; text-align: center }    \t.KOBJ_reset caption         { text-align: center }    \t.KOBJ_reset body            { margin: 8px }    \t.KOBJ_reset h1              { font-size: 2em; margin: .67em 0 }    \t.KOBJ_reset h2              { font-size: 1.5em; margin: .75em 0 }    \t.KOBJ_reset h3              { font-size: 1.17em; margin: .83em 0 }    \t.KOBJ_reset h4, .KOBJ_reset p,    \t.KOBJ_reset blockquote, .KOBJ_reset ul,    \t.KOBJ_reset fieldset, .KOBJ_reset form,    \t.KOBJ_reset ol, .KOBJ_reset dl, .KOBJ_reset dir,    \t.KOBJ_reset menu            { margin: 1.12em 0 }    \t.KOBJ_reset h5              { font-size: .83em; margin: 1.5em 0 }    \t.KOBJ_reset h6              { font-size: .75em; margin: 1.67em 0 }    \t.KOBJ_reset h1, .KOBJ_reset h2, .KOBJ_reset h3, .KOBJ_reset h4,    \t.KOBJ_reset h5, .KOBJ_reset h6, .KOBJ_reset b,    \t.KOBJ_reset strong          { font-weight: bolder }    \t.KOBJ_reset blockquote      { margin-left: 40px; margin-right: 40px }    \t.KOBJ_reset i, .KOBJ_reset cite, .KOBJ_reset em,    \t.KOBJ_reset var, .KOBJ_reset address    { font-style: italic }    \t.KOBJ_reset pre, .KOBJ_reset tt, .KOBJ_reset code,    \t.KOBJ_reset kbd, .KOBJ_reset samp       { font-family: monospace }    \t.KOBJ_reset pre             { white-space: pre }    \t.KOBJ_reset button, .KOBJ_reset textarea,    \t.KOBJ_reset input, .KOBJ_reset select   { display: inline-block }    \t.KOBJ_reset big             { font-size: 1.17em }    \t.KOBJ_reset small, .KOBJ_reset sub, .KOBJ_reset sup { font-size: .83em }    \t.KOBJ_reset sub             { vertical-align: sub }    \t.KOBJ_reset sup             { vertical-align: super }    \t.KOBJ_reset table           { border-spacing: 2px; }    \t.KOBJ_reset thead, .KOBJ_reset tbody,    \t.KOBJ_reset tfoot           { vertical-align: middle }    \t.KOBJ_reset td, .KOBJ_reset th, .KOBJ_reset tr      { vertical-align: inherit }    \t.KOBJ_reset s, .KOBJ_reset strike, .KOBJ_reset del  { text-decoration: line-through }    \t.KOBJ_reset hr              { border: 1px inset }    \t.KOBJ_reset ol, .KOBJ_reset ul, .KOBJ_reset dir,    \t.KOBJ_reset menu, .KOBJ_reset dd        { margin-left: 40px }    \t.KOBJ_reset ol              { list-style-type: decimal }    \t.KOBJ_reset ol ul, .KOBJ_reset ul ol,    \t.KOBJ_reset ul ul, .KOBJ_reset ol ol    { margin-top: 0; margin-bottom: 0 }    \t.KOBJ_reset u, .KOBJ_reset ins          { text-decoration: underline }    \t.KOBJ_reset br:before       { content: \"\\A\"; white-space: pre-line }    \t.KOBJ_reset center          { text-align: center }    \t.KOBJ_reset :link, .KOBJ_reset :visited { text-decoration: underline }    \t.KOBJ_reset :focus          { outline: thin dotted invert }    \t.KOBJ_reset a { color: blue; }    \t.KOBJ_reset a:visited { color: #551A8B; }    \t.KOBJ_reset p { text-align: left; }    \t.KOBJ_reset div { color: black; }    \t    \t    \t.KOBJ_reset BDO[DIR=\"ltr\"]  { direction: ltr; unicode-bidi: bidi-override }    \t.KOBJ_reset BDO[DIR=\"rtl\"]  { direction: rtl; unicode-bidi: bidi-override }    \t    \t.KOBJ_reset *[DIR=\"ltr\"]    { direction: ltr; unicode-bidi: embed }    \t.KOBJ_reset *[DIR=\"rtl\"]    { direction: rtl; unicode-bidi: embed }                ","type":"css"},{"emit":"\n(function($,c){var g,k=document.location,i=Array.prototype.slice,E=decodeURIComponent,a=$.param,m,d,p,n=$.bbq=$.bbq||{},o,e,z,b=\"hashchange\",v=\"querystring\",y=\"fragment\",q=\"hash\",x=\"elemUrlAttr\",h=\"href\",D=\"src\",C=$.browser,l=C.msie&&C.version<8,j=\"on\"+b in c&&!l,r=/^.*\\?|#.*$/g,A=/^.*\\#/,t={};function s(F){return typeof F===\"string\"}function w(G){var F=i.call(arguments,1);return function(){return G.apply(this,F.concat(i.call(arguments)))}}function f(G,O,F,H,K){var M,L,J,N,I;if(H!==g){J=F.match(G?/^([^#]*)\\#?(.*)$/:/^([^#?]*)\\??([^#]*)(#?.*)/);I=J[3]||\"\";if(K===2&&s(H)){L=H.replace(O,\"\")}else{N=d(J[2]);H=s(H)?d[G?y:v](H):H;L=K===2?H:K===1?$.extend({},H,N):$.extend({},N,H);L=a(L)}M=J[1]+(G?\"#\":L||!J[1]?\"?\":\"\")+L+I}else{if(F){M=F.replace(O,\"\")}else{M=G?k[q]?k[h].replace(O,\"\"):\"\":k.search.replace(/^\\??/,\"\")}}return M}a[v]=w(f,0,r);a[y]=m=w(f,1,A);$.deparam=d=function(I,G){var H={},F={\"true\":!0,\"false\":!1,\"null\":null};$.each(I.replace(/\\+/g,\" \").split(\"&\"),function(M,O){var L=O.split(\"=\"),P=E(L[0]),K,Q=H,N=0,R=P.split(\"][\"),J=R.length-1;if(/\\[/.test(R[0])&&/\\]$/.test(R[J])){R[J]=R[J].replace(/\\]$/,\"\");R=R.shift().split(\"[\").concat(R);J=R.length-1}else{J=0}if(L.length===2){K=E(L[1]);if(G){K=K&&!isNaN(K)?+K:K===\"undefined\"?g:F[K]!==g?F[K]:K}if(J){for(;N<=J;N++){P=R[N]===\"\"?Q.length:R[N];Q=Q[P]=N<J?Q[P]||(R[N+1]&&isNaN(R[N+1])?{}:[]):K}}else{if($.isArray(H[P])){H[P].push(K)}else{if(H[P]!==g){H[P]=[H[P],K]}else{H[P]=K}}}}else{if(P){H[P]=G?g:\"\"}}});return H};function u(I,H,G,F){if(G===g||typeof G===\"boolean\"){F=G;G=a[I]()}else{G=s(G)?G.replace(H,\"\"):G}return d(G,F)}d[v]=w(u,v,r);d[y]=p=w(u,y,A);$[x]||($[x]=function(F){return $.extend(t,F)})({a:h,base:h,iframe:D,img:D,input:D,form:\"action\",link:h,script:D});e=$[x];function B(I,F,H,G){if(!s(H)&&typeof H!==\"object\"){G=H;H=F;F=g}return this.each(function(){var L=$(this),J=F||e()[(this.nodeName||\"\").toLowerCase()]||\"\",K=J&&L.attr(J)||\"\";L.attr(J,a[I](K,H,G))})}$.fn[v]=w(B,v);$.fn[y]=w(B,y);n.pushState=o=function(I,H){if(s(I)&&/^#/.test(I)&&H===g){H=2}var G=I!==g,F=m(k[h],G?I:{},G?H:2);k[h]=F+(/#/.test(F)?\"\":\"#\")};n.getState=function(G,F){return G===g||typeof G===\"boolean\"?p(G):p(F)[G]};n.pollDelay=100;$.event.special[b]={setup:function(){if(j){return false}z.start()},teardown:function(){if(j){return false}z.stop()},add:function(F,H,G){return function(J){var I=J[y]=m();J.getState=function(L,K){return L===g||typeof L===\"boolean\"?d(I,L):d(I,K)[L]};F.apply(this,arguments)}}};z=(function(){var G={},K,F,H,J;function I(){H=J=function(L){return L};if(l){F=$(\"<iframe/>\").hide().appendTo(\"body\")[0].contentWindow;J=function(){return F.document.location[q].replace(/^#/,\"\")};H=function(N,L){if(N!==L){var M=F.document;M.open();M.close();M.location[q]=\"#\"+N}};H(m())}}G.start=function(){if(K){return}var M=m();H||I();(function L(){var O=m(),N=J(M);if(O!==M){H(M=O,N);$(c).trigger(b)}else{if(N!==M){o(\"#\"+N)}}K=setTimeout(L,n.pollDelay)})()};G.stop=function(){if(!F){K&&clearTimeout(K);K=0}};return G})()})(jQuery,this);                      KOBJ.annotate_local_search_results = function(annotate, config, cb) {    \tvar defaults = {    \t\t\"name\": \"KOBJL\",    \t\t\"on_hash_change\": \"\",    \t\t\"results_lister\" : \".g>.ts>tbody>tr>td:has(cite):not(:has(table)):not(:has(div)),#results td:last-child:has(h4):not(:has(table)):has(cite),.g table.ts tr td:last:not(:has(img)):has(cite),.g>table tbody tr td:has(h3):has(cite),.sc_ol1li, #srs_orderedList>.llsResultItem,.res.sc-ng.sc-lc-bz-m div.content>ol>li,#yls-rs-res tbody tr .yls-rs-bizinfo,.vcard,.g>table tbody tr td table tr:has(.fl):has(cite)\"    \t};        \tif (typeof config === 'object') {    \t\tjQuery.extend(defaults, config);    \t}    \trunAnnotate = function(){    \t\tvar count = 0;    \t\t$K(defaults['results_lister']).each(function() {        \t\t\tvar toAnnotate = this;    \t\t\t    \t\t\tvar phoneTemp = $K(toAnnotate).find(\"nobr,.sc_hl1 li>:not(a),.tel,[id *= lblPhone]\").text().replace(/[\\u00B7() -]/g, \"\");    \t\t\tvar domainTemp = $K(toAnnotate).find(\".url\").text().replace(/www\\./,\"\");    \t\t\tif(domainTemp===\"\"){    \t\t\t\tdomainTemp = $K(toAnnotate).find(\"cite\").text().replace(/www\\./,\"\").replace(/[\\s-]/g,\"\");    \t\t\t}    \t\t\tif(phoneTemp===\"\"){    \t\t\t\tphoneTemp = $K(toAnnotate);    \t\t\t\tphoneTemp = phoneTemp.text().match(/\\(\\d{3}\\)\\s\\d{3}-\\d{4}/,\"$1\");    \t\t\t\tif(phoneTemp!==null){    \t\t\t\t\tphoneTemp = phoneTemp[0];    \t\t\t\t\tphoneTemp = phoneTemp.replace(/[() -]/g, \"\");    \t\t\t\t}    \t\t\t}        \t\t\tvar heightTemp = $K(toAnnotate).height();    \t\t\t    \t\t\tif(phoneTemp!==null){    \t\t\t\t$K(toAnnotate).data(\"phone\",phoneTemp);    \t\t\t} else { $K(toAnnotate).data(\"phone\",\"none\"); }    \t\t\tif(domainTemp!==null){    \t\t\t\t$K(toAnnotate).data(\"domain\",domainTemp);    \t\t\t} else { $K(toAnnotate).data(\"domain\",\"none\"); }    \t\t\t    \t\t\t$K(toAnnotate).data(\"height\",heightTemp);        \t\t\tif(heightTemp > 60){    \t\t\t\t$K(toAnnotate).data(\"compact\",false);    \t\t\t} else {    \t\t\t\t$K(toAnnotate).data(\"compact\",true);    \t\t\t}    \t\t    \t\t\tvar contents = annotate(toAnnotate);    \t\t\tif (contents) {    \t\t\t\tcount++;    \t\t\t\t$K(\":last\",this).after(contents);    \t\t\t}    \t\t});    \t    \t\tKOBJ.logger('annotated_search_results', config['txn_id'], count, '', 'success', config['rule_name'] );    \t\tcb();    \t};        \trunAnnotate();        \t    \thashCallback = function(regEx,onCallback,time){    \t\tif(time===undefined){    \t\t\treturn function(hash){    \t\t\t\tif(regEx!==\"\" && hash.target.location.hash.search(regEx) != -1){    \t\t\t\t\tsetTimeout(function(){onCallback()},1000);    \t\t\t\t}    \t\t\t}    \t\t} else {    \t\t\treturn function(hash){    \t\t\t\tif(regEx!==\"\" && hash.target.location.hash.search(regEx) != -1){    \t\t\t\t\tsetTimeout(function(){onCallback()},time);    \t\t\t\t}    \t\t\t}    \t\t}    \t};        \t$K(window).bind('hashchange',hashCallback(defaults.on_hash_change,runAnnotate));    };    \t                      "}],"dispatch":[{"domain":"google.com"}],"ruleset_name":"a41x64","rules":[{"blocktype":"every","emit":"\nbusinessData = {    \t'8014929012': 'www.bobstowing.com',  \t'8017565883': 'www.geneharvey.com',  \t'8013415088': 'www.bobstowing.com',  \t'4162912868': 'www.bobstowing.com',  \t'8012255404': 'www.geneharvey.com'  };    domainData = {  \t'www.geneharvey.com': {'url':'www.geneharvey.com'},  \t'www.bobstowing.com': {'url':'www.bobstowing.com'}  };        my_selector = function(obj){    \tdomain = $K(obj).data(\"domain\");  \tphone = $K(obj).data(\"phone\");  \tcompact = $K(obj).data(\"compact\");  \theight = $K(obj).data(\"height\");    \tif(typeof(console)!=undefined){console.log(\"Domain:\",domain,\"\\nPhone:\",phone);}    \tvar p = businessData[phone];  \tif(!p){  \t\tp = domainData[domain];  \t\tif(p){  \t\t\tp = businessData[p];  \t\t}  \t}  \tif((p && compact) || Math.floor(Math.random()*4) == 1) {  \t\treturn \"<a href='http://www.bbb.org'><img src='http://k-misc.s3.amazonaws.com/resources/a8x17/bbbaccredited.png' border='0' style='float: right;'/><\/a>\";  \t} else if(p && !compact) {  \t\treturn \"<a href='http://www.bbb.org'><img src='http://k-misc.s3.amazonaws.com/resources/a8x17/bbb-full.jpg' style='float: right;'border='0' /><\/a>\";  \t} else {  \t\treturn false;  \t}  };      KOBJ.annotate_local_search_results(my_selector, {\"on_hash_change\": /\\w/g}, function(){});            ","name":"simple_test","callbacks":null,"state":"active","pagetype":{"foreach":[],"event_expr":{"vars":[],"pattern":".*","op":"pageview","type":"prim_event","legacy":1}},"cond":{"val":"true","type":"bool"},"actions":[{"action":{"source":null,"args":[],"name":"noop","modifiers":null}}]}],"meta":{"name":"Frag Change Tests","logging":"off"}}
