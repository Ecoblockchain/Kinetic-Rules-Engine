{"global":[],"global_start_line":null,"dispatch":[{"domain":"example.com","ruleset_id":null}],"dispatch_start_col":3,"meta_start_line":2,"rules":[{"cond":{"val":"true","type":"bool"},"blocktype":"every","actions":[{"action":{"source":null,"name":"append","args":[{"val":"body","type":"str"},{"val":"block","type":"var"}],"modifiers":null,"vars":null},"label":null}],"post":null,"pre":[{"rhs":{"obj":{"val":"item","type":"var"},"args":[{"val":"$.type","type":"str"}],"name":"pick","type":"operator"},"lhs":"type","type":"expr"},{"rhs":{"obj":{"val":"item","type":"var"},"args":[{"val":"$.src","type":"str"}],"name":"pick","type":"operator"},"lhs":"src","type":"expr"},{"rhs":{"obj":{"val":"item","type":"var"},"args":[{"val":"$.text","type":"str"}],"name":"pick","type":"operator"},"lhs":"text","type":"expr"},{"rhs":{"test":{"args":[{"val":"type","type":"var"},{"val":"image","type":"str"}],"type":"ineq","op":"eq"},"then":{"val":"<img src=\\\"#{src}\\\"/>","type":"str"},"else":{"test":{"args":[{"val":"type","type":"var"},{"val":"text","type":"str"}],"type":"ineq","op":"eq"},"then":{"val":"<p>#{text}</p>","type":"str"},"else":{"test":{"args":[{"val":"type","type":"var"},{"val":"icon","type":"str"}],"type":"ineq","op":"eq"},"then":{"val":"<img style=\\\"width:15px\\\" src=\\\"#{src}\\\"/>","type":"str"},"else":{"val":"error","type":"str"},"type":"condexpr"},"type":"condexpr"},"type":"condexpr"},"lhs":"content","type":"expr"},{"rhs":"<div class=\"block\">\n          <h3>Type: #{type}</h3>\n          #{content}\n        </div>\n      ","lhs":"block","type":"here_doc"}],"name":"first_rule","start_col":3,"emit":null,"state":"active","callbacks":null,"pagetype":{"event_expr":{"domain":null,"pattern":".*","type":"prim_event","vars":null,"op":"pageview"},"foreach":[{"expr":{"val":"feed","type":"var"},"var":["item"]}]},"start_line":14}],"meta_start_col":3,"meta":{"logging":"on","use":[{"resource":{"location":"http://dl.dropbox.com/u/1446072/kcast-examples/array-of-random-items.js","type":"url"},"type":"resource","resource_type":"javascript"}],"name":"Conditional expressions in pre block","meta_start_line":2,"author":"Mike Grace","description":"putting logic in the pre block of your rules\n    ","meta_start_col":3},"dispatch_start_line":12,"global_start_col":null,"ruleset_name":"a60x298"}
