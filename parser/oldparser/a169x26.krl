{"global":[],"global_start_line":17,"dispatch":[{"domain":"facebook.com","ruleset_id":null}],"dispatch_start_col":3,"meta_start_line":2,"rules":[{"cond":{"val":"true","type":"bool"},"blocktype":"every","actions":[{"action":{"source":null,"name":"noop","args":[],"modifiers":null,"vars":null},"label":null}],"post":null,"pre":[{"rhs":"<div id=\"FaceCentsHomePageAd\" class=\"emu_sponsor mbm\">\n          <div class=\"UIEmuHPFrame emu_ad\">\n            <div class=\"UIEMUHPFrame_creative\">\n              <div class=\"UIEMUHPFrame_titleAndFeedback\">\n                <a rel=\"async-post\" title=\"Report this ad\" class=\"UIEmuFrame_x hide\" href=\"\">X</a>\n                <a href=\"http://www.aculis.com\" class=\"ad_title UIEMUFrame_forceLTR\">Choose ACULIS</a>\n              </div>\n              <div class=\"UIImageBlock clearfix\">\n                <a target=\"\" href=\"http://www.aculis.com\" class=\"ad_image UIImageBlock_Image UIImageBlock_SMALL_Image\"><img src=\"http://demo.freshbuzz.net/fb_sponsor_ad.jpg\" class=\"img\"></a>\n                <div class=\"UIImageBlock_Content UIImageBlock_SMALL_Content\">\n                  <div>\n                    <a target=\"\" href=\"http://www.aculis.com\" class=\"ad_text UIEMUFrame_forceLTR\">Now is the time for all good software developers to come to their senses and to begin coding with Kynetx!</a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      ","lhs":"FaceCentsHomePageAd","type":"here_doc"},{"rhs":"<div id=\"FaceCentsSponsorAd\" class=\"fbEmu fbEmuVertical fbEmuLegacy\">\n          <div class=\"fbEmuHide\">\n            <a href=\"\" rel=\"async-post\" title=\"Report this ad\" class=\"fbEmuLink thex emuEventfad_hide\"><span class=\"fbEmuLinkText\">&nbsp;</span></a>\n          </div>\n          <div class=\"hover\">\n            <div class=\"title\">\n              <a href=\"http://www.aculis.com\" target=\"_blank\" class=\"fbEmuLink forceLTR emuEvent1\"><span class=\"fbEmuLinkText\">Choose Aculis</span></a>\n            </div>\n            <div class=\"image\">\n              <a href=\"http://www.aculis.com\" target=\"_blank\" class=\"fbEmuLink emuEvent1\"><img src=\"http://demo.freshbuzz.net/fb_sponsor_ad.jpg\" class=\"img\"></a>\n            </div>\n            <div class=\"body\">\n              <a href=\"http://www.aculis.com\" target=\"_blank\" class=\"fbEmuLink forceLTR emuEvent1\"><span class=\"fbEmuLinkText\">Now is the time for all good software developers to come to their senses and to begin coding with Kynetx!</span></a>\n            </div>\n          </div>\n        </div>\n      ","lhs":"FaceCentsSponsorAd","type":"here_doc"}],"name":"first_rule","start_col":3,"emit":"// Facebook updates content with AJAX, so we have to watch the DOM\n      // in order to determine if changes have been made to the page\n      \n      // Register callback function when content changes\n      // http://devex.kynetx.com/questions/212/inconsistent-facebook-rule-firing\n      KOBJ.watchDOM(\"#content\", PrependSponsoredAd);\n      KOBJ.watchDOM(\"#menubar_container\", PrependSponsoredAd);\n      KOBJ.watchDOM(\"#pagefooter\", PrependSponsoredAd);\n      KOBJ.watchDOM(\"#pagelet_presence\", PrependSponsoredAd);\n      \n      // Insert our Ads into the page if there are not there already\n      function PrependSponsoredAd() {\n        // Have we already inserted our ad on the homepage?\n        if ( $K(\"#FaceCentsHomePageAd\").length == 0) {\n          $K(\"#home_sponsor_nile\").prepend(FaceCentsHomePageAd);\n        }\n        // Have we already inserted our Sponsor ad?\n        if ( $K(\"#FaceCentsSponsorAd\").length == 0) {\n          $K(\"div#ssponsor\").prepend(FaceCentsSponsorAd);\n        }\n      }\n      \n      // Fire the function one to initially place the Ads\n      PrependSponsoredAd();\n    ","state":"active","callbacks":null,"pagetype":{"event_expr":{"pattern":"www.facebook.com/.*","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":21}],"meta_start_col":3,"meta":{"logging":"on","name":"Facebook Sponsored Ad","meta_start_line":2,"author":"Ed Orcutt <edo@aculis.com>","description":"Insert a Facebook Sponsored ad on both users home page and other.\n    ","meta_start_col":3},"dispatch_start_line":13,"global_start_col":3,"ruleset_name":"a169x26"}
