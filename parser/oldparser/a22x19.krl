{"global":[{"source":"http://clearplay.com/filtercart.aspx?","name":"clear","type":"datasource","datatype":"JSON","cachable":{"period":"days","value":"1"}},{"rhs":"<div id=\"direcTVWrapper\">    \t\t   \n      <a href=\"http:\\/\\/www.directv.com\">                                            \n      <img src=\"http:\\/\\/dl.dropbox.com/u/518046/DirecTVPremiumNotify.png\" alt=\"directv\" />                                      \n      </a>                            \n   </div>    \t\n ","lhs":"messageNotAvailable","type":"here_doc"},{"rhs":"<div id=\"direcTVWrapper\">    \t\t   \n      <a href=\"http:\\/\\/www.directv.com\">                                            \n      <img src=\"http:\\/\\/dl.dropbox.com/u/518046/DirecTVNetflixNotify.png\" alt=\"directv\" />                                      \n      </a>                            \n   </div>    \t\n ","lhs":"messageAvailable","type":"here_doc"},{"content":"#clearPlayWrapper {    \t\t\t\twidth: 100%;    \t\t\t\tmargin-top: 10px;    \t\t\t}        \t\t\t#clearPlay {    \t\t\t\tmargin: 0 auto;    \t\t\t\twidth: 524px;    \t\t\t}                                #clearPlayLogo {                                    float: left;                            }                                #clearPlayFilter {                                    float: left;                            }                                #clearPlayQueue {                                    float: left;                            }                                #clearPlayIMDb {                                    float: left;                            }            ","type":"css"}],"global_start_line":11,"dispatch":[{"domain":"netflix.com","ruleset_id":null},{"domain":"imdb.com","ruleset_id":null}],"dispatch_start_col":5,"meta_start_line":2,"rules":[{"cond":{"val":"true","type":"bool"},"blocktype":"every","actions":[{"action":{"source":null,"name":"noop","args":[],"modifiers":null,"vars":null},"label":null}],"post":null,"pre":[{"rhs":{"obj":{"val":"title","type":"var"},"args":[{"val":"/(The|the)_/","type":"regexp"},{"val":"","type":"str"}],"name":"replace","type":"operator"},"lhs":"titleNew","type":"expr"},{"rhs":{"source":"datasource","predicate":"clear","args":[{"val":[{"rhs":{"val":"titleNew","type":"var"},"lhs":"SearchValue"}],"type":"hashraw"}],"type":"qualified"},"lhs":"clearPlay","type":"expr"}],"name":"netflix","start_col":5,"emit":"table = $K(\"table#search_results tr\",clearPlay);  \ttableLength = table.length;  \tavailable = tableLength != 0;  \tvar message = \"\";  \tif(available) {  \t\tmessage = messageAvailable;  \t} else {  \t\tmessage = messageNotAvailable;  \t}  \tif($K(\"#nmmdp\").length){ $K(\"#nmmdp\").after(message); } else { $K(\"#page-content\").prepend(message); $K(\"#clearPlayWrapper\").css({\"margin-top\":\"0px\", \"margin-bottom\":\"10px\"}); }  \tif(available){  \t\tif($K(\".btn-rent\").length){  \t\t\tvar urlTemp = $K(\".btn-rent:first\").attr(\"href\");  \t\t\t$K(\"#clearPlayQueue a\").attr(\"href\",urlTemp);  \t\t}  \t\t$K(\"#clearPlayFilter a\").attr(\"href\",\"http:\\/\\/clearplay.com/filtercart.aspx?SearchValue=\"+titleNew);  \t\t$K(\"#clearPlayIMDb a\").attr(\"href\",\"http:\\/\\/www.imdb.com/find?s=all&q=\"+titleNew);  \t}  \t$K(\"#clearPlay\").slideDown(\"slow\");            ","state":"active","callbacks":null,"pagetype":{"event_expr":{"pattern":"www.netflix.com/Movie/(\\w+)/","legacy":1,"type":"prim_event","vars":["title"],"op":"pageview"},"foreach":[]},"start_line":28},{"cond":{"val":"true","type":"bool"},"blocktype":"every","actions":[{"action":{"source":null,"name":"noop","args":[],"modifiers":null,"vars":null},"label":null}],"post":null,"pre":[{"rhs":{"source":"page","predicate":"env","args":[{"val":"title","type":"str"}],"type":"qualified"},"lhs":"titleTemp","type":"expr"},{"rhs":{"obj":{"val":"titleTemp","type":"var"},"args":[{"val":"/[(]\\d+[)]/","type":"regexp"},{"val":"","type":"str"}],"name":"replace","type":"operator"},"lhs":"titleTemp2","type":"expr"},{"rhs":{"obj":{"val":"titleTemp2","type":"var"},"args":[{"val":"/the/i","type":"regexp"},{"val":"","type":"str"}],"name":"replace","type":"operator"},"lhs":"titleTemp3","type":"expr"},{"rhs":{"obj":{"val":"titleTemp3","type":"var"},"args":[{"val":"/^\\s/","type":"regexp"},{"val":"","type":"str"}],"name":"replace","type":"operator"},"lhs":"titleTemp4","type":"expr"},{"rhs":{"obj":{"val":"titleTemp4","type":"var"},"args":[{"val":"/\\s$/","type":"regexp"},{"val":"","type":"str"}],"name":"replace","type":"operator"},"lhs":"title","type":"expr"},{"rhs":{"source":"datasource","predicate":"clear","args":[{"args":[{"val":"SearchValue=","type":"str"},{"val":"title","type":"var"}],"type":"prim","op":"+"}],"type":"qualified"},"lhs":"clearPlay","type":"expr"}],"name":"imdb","start_col":5,"emit":"table = $K(\"#search_results>table tr\",clearPlay);  \ttableLength = table.length;  \tavailable = tableLength != 0;  \tif(available) {  \t\tmessage = messageAvailable;  \t} else {  \t\tmessage = messageNotAvailable;  \t}    \tif($K(\"#mdp-flashPreview\").length) {  \t\t$K(\"#mdp-flashPreview\").before(message);  \t} else if($K(\"#description-content\").length) {  \t\t$K(\"#description-content\").before(message);  \t} else if($K(\"#tn15adrhs\").length) {  \t\t$K(\"#tn15adrhs\").before(message);  \t}    \tif(available){  \t\t$K(\"#clearPlayFilter a\").attr(\"href\",\"http:\\/\\/clearplay.com/filtercart.aspx?SearchValue=\"+title);  \t\t$K(\"#clearPlayIMDb a\").attr(\"href\",\"http:\\/\\/www.imdb.com/find?s=all&q=\"+title);  \t}  \t$K(\"#clearPlayWrapper\").css({\"height\":\"76px\"});  \t$K(\"#clearPlayWrapper img\").css({\"height\":\"64px\"});  \t\t$K(\"#clearPlay\").css({\"margin-bottom\":\"64px\"}).slideDown(\"slow\");            ","state":"active","callbacks":null,"pagetype":{"event_expr":{"pattern":"http://www.imdb.com/title/\\w+","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":39},{"cond":{"val":"true","type":"bool"},"blocktype":"every","actions":[{"action":{"source":null,"name":"noop","args":[],"modifiers":null,"vars":null},"label":null}],"post":null,"pre":[{"rhs":{"obj":{"val":"title","type":"var"},"args":[{"val":"/(The|the)_/","type":"regexp"},{"val":"","type":"str"}],"name":"replace","type":"operator"},"lhs":"title","type":"expr"},{"rhs":{"source":"datasource","predicate":"clear","args":[{"val":[{"rhs":{"val":"title","type":"var"},"lhs":"SearchValue"}],"type":"hashraw"}],"type":"qualified"},"lhs":"clearPlay","type":"expr"}],"name":"imdb_search","start_col":5,"emit":"table = $K(\"#search_results>table tr\",clearPlay);  \ttableLength = table.length;  \tavailable = tableLength != 0;  \tif(available) {  \t\tmessage = messageAvailable;  \t} else {  \t\tmessage = messageNotAvailable;  \t}  \tif($K(\"#main p:first\").length){$K(\"#main p:first\").before(message);} else {\t$K(\"#main\").prepend(message); }  \tif(available){  \t\t$K(\"#clearPlayFilter a\").attr(\"href\",\"http:\\/\\/clearplay.com/filtercart.aspx?SearchValue=\"+title);  \t\t$K(\"#clearPlayIMDb a\").attr(\"href\",\"http:\\/\\/www.imdb.com/find?s=all&q=\"+title);  \t}  \t$K(\"#clearPlayWrapper\").css({\"margin-bottom\":\"10px\",\"margin-left\":\"-57px\"});  \t$K(\"#clearPlay\").slideDown(\"slow\");            ","state":"active","callbacks":null,"pagetype":{"event_expr":{"pattern":"http://www.imdb.com/find\\?s=all&q=(\\w+)(?:&|$)","legacy":1,"type":"prim_event","vars":["title"],"op":"pageview"},"foreach":[]},"start_line":54},{"cond":{"val":"true","type":"bool"},"blocktype":"every","actions":[{"action":{"source":null,"name":"noop","args":[],"modifiers":null,"vars":null},"label":null}],"post":null,"pre":[{"rhs":{"obj":{"val":"title","type":"var"},"args":[{"val":"/(The|the)_/","type":"regexp"},{"val":"","type":"str"}],"name":"replace","type":"operator"},"lhs":"titleNew","type":"expr"},{"rhs":{"source":"datasource","predicate":"clear","args":[{"val":[{"rhs":{"val":"titleNew","type":"var"},"lhs":"SearchValue"}],"type":"hashraw"}],"type":"qualified"},"lhs":"clearPlay","type":"expr"}],"name":"netflix_wi","start_col":5,"emit":"table = $K(\"table#search_results tr\",clearPlay);  \ttableLength = table.length;  \tavailable = tableLength != 0;  \tvar message = \"\";  \tif(available) {  \t\tmessage = messageAvailable;  \t} else {  \t\tmessage = messageNotAvailable;  \t}  \tif($K(\"#mdp-overview\").length){ $K(\"#mdp-overview\").after(message); } else { $K(\"#page-content\").prepend(message); $K(\"#clearPlayWrapper\").css({\"margin-top\":\"0px\", \"margin-bottom\":\"10px\"}); }  \tif(available){  \t\tif($K(\".btn-rent\").length){  \t\t\tvar urlTemp = $K(\".btn-rent:first\").attr(\"href\");  \t\t\t$K(\"#clearPlayQueue a\").attr(\"href\",urlTemp);  \t\t}  \t\t$K(\"#clearPlayFilter a\").attr(\"href\",\"http:\\/\\/clearplay.com/filtercart.aspx?SearchValue=\"+titleNew);  \t\t$K(\"#clearPlayIMDb a\").attr(\"href\",\"http:\\/\\/www.imdb.com/find?s=all&q=\"+titleNew);  \t}  \t$K(\"#clearPlay\").slideDown(\"slow\");            ","state":"active","callbacks":null,"pagetype":{"event_expr":{"pattern":"www.netflix.com/WiMovie/(\\w+)/","legacy":1,"type":"prim_event","vars":["title"],"op":"pageview"},"foreach":[]},"start_line":65}],"meta_start_col":5,"meta":{"logging":"off","name":"DirecTV","meta_start_line":2,"author":"Dave McNamee","meta_start_col":5},"dispatch_start_line":7,"global_start_col":5,"ruleset_name":"a22x19"}
