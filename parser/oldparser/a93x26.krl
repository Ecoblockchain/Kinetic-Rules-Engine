{"global":[{"source":"http://kpds:$up3rs3cr3t@kpds.kynetx.com/secure/bjl.json","name":"bjl","type":"datasource","datatype":"JSON","cachable":{"period":"seconds","value":"10"}}],"global_start_line":13,"dispatch":[{"domain":"entity.dnb.com","ruleset_id":null}],"dispatch_start_col":5,"meta_start_line":2,"rules":[{"cond":{"val":"true","type":"bool"},"blocktype":"every","actions":[{"label":null,"emit":"window.process_single_record = function(record) {\n\t\t\t\t\t    var trusee_block = generate_single_line(\"Address\", format_small_address(record.trustee));\n\t\t\t\t\t    if (!isblank(trusee_block)) {\n\t\t\t\t\t        trusee_block = start_wrapper(\"Trustee\") + trusee_block + end_wrapper();\n\t\t\t\t\t    }\n\t\t\t\t\t    var co_defend_block = generate_single_line(\"Address\", format_full_address(record.coDefendantOrSpouse.address)) + generate_single_line(\"Name\", record.coDefendantOrSpouse.defendantName.fullName) + generate_single_line(\"Alias1\", record.coDefendantOrSpouse.defendantName.alias1) + generate_single_line(\"Alias2\", record.coDefendantOrSpouse.defendantName.alias2) + generate_single_line(\"SSN\", format_ssn(record.coDefendantOrSpouse.ssn));\n\t\t\t\t\t    if (!isblank(co_defend_block)) {\n\t\t\t\t\t        co_defend_block = start_wrapper(\"Co-Defendant or Spouse\") + co_defend_block + end_wrapper();\n\t\t\t\t\t    }\n\t\t\t\t\t    var defend_attorney_block = generate_single_line(\"Address\", format_small_address(record.defendant.attorney.address)) + generate_single_line(\"Firm Name\", record.defendant.attorney.firmName) + generate_single_line(\"Name\", record.defendant.attorney.name) + generate_single_line(\"Phone\", format_phone(record.defendant.attorney.phone)) + generate_single_line(\"License Number\", record.defendant.attorney.licenseNumber);\n\t\t\t\t\t    if (!isblank(defend_attorney_block)) {\n\t\t\t\t\t        defend_attorney_block = start_wrapper(\"Attorney\") + defend_attorney_block + end_wrapper();\n\t\t\t\t\t    }\n\t\t\t\t\t    var monetary_block = generate_single_line(\"Amount\", format_money(record.monetary.amount)) + generate_single_line(\"Assets\", record.monetary.assets) + generate_single_line(\"Assets Available\", record.monetary.assetsAvailable) + generate_single_line(\"Liability\", record.monetary.liability);\n\t\t\t\t\t    if (!isblank(monetary_block)) {\n\t\t\t\t\t        monetary_block = start_wrapper(\"Monetary\") + monetary_block + end_wrapper();\n\t\t\t\t\t    }\n\t\t\t\t\t    var plaintiff_attorney_block = generate_single_line(\"Address\", format_small_address(record.plaintiff.attorney.address)) + generate_single_line(\"Firm Name\", record.plaintiff.attorney.firmName) + generate_single_line(\"Name\", record.plaintiff.attorney.name) + generate_single_line(\"Phone\", format_phone(record.plaintiff.attorney.phone)) + generate_single_line(\"License Number\", record.plaintiff.attorney.licenseNumber);\n\t\t\t\t\t    if (!isblank(plaintiff_attorney_block)) {\n\t\t\t\t\t        plaintiff_attorney_block = start_wrapper(\"Attorney\") + plaintiff_attorney_block + end_wrapper();\n\t\t\t\t\t    }\n\t\t\t\t\t    var result = generate_header(\"Financial Data for \", name + \" at \" + streetAddress + \", \" + city + \" \" + state + \" \" + zip) + \n\t\t\t\t\t\t\tstart_wrapper(\"Case Information\") + \n\t\t\t\t\t\t\t\tgenerate_single_line(\"Type\", (record.type == \"BANK\" ? \"Bankruptcy\" : (record.type == \"JUDG\" ? \"Judgment\" : \"Lien\") )) + \n\t\t\t\t\t\t\t\tgenerate_single_line(\"Action Type\", record.bjlCase.actionType) + \n\t\t\t\t\t\t\t\tgenerate_single_line(\"Book\", record.bjlCase.book) + \n\t\t\t\t\t\t\t\tgenerate_single_line(\"Case Number\", record.bjlCase.caseNumber) + \n\t\t\t\t\t\t\t\tgenerate_single_line(\"Court ID\", record.bjlCase.courtId) + \n\t\t\t\t\t\t\t\tgenerate_single_line(\"Complaint Date\", format_date(record.bjlCase.complaintDate)) + \n\t\t\t\t\t\t\t\tgenerate_single_line(\"Court Name\", record.bjlCase.courtName) + \n\t\t\t\t\t\t\t\tgenerate_single_line(\"Court Type\", record.bjlCase.courtType) + \n\t\t\t\t\t\t\t\tgenerate_single_line(\"Dismissal Date\", format_date(record.bjlCase.dismissalDate)) + \n\t\t\t\t\t\t\t\tgenerate_single_line(\"Disposition Date\", format_date(record.bjlCase.dispositionDate)) + \n\t\t\t\t\t\t\t\tgenerate_single_line(\"Disposition Type\", record.bjlCase.dispositionType) + \n\t\t\t\t\t\t\t\tgenerate_single_line(\"Filer Code\", record.bjlCase.filerCode) + \n\t\t\t\t\t\t\t\tgenerate_single_line(\"Filing Date\", format_date(record.bjlCase.filingDate)) + \n\t\t\t\t\t\t\t\tgenerate_single_line(\"Filing Type\", record.bjlCase.filingType) + \n\t\t\t\t\t\t\t\tgenerate_single_line(\"Filing Type Code\", record.bjlCase.filingTypeCode) + \n\t\t\t\t\t\t\t\tgenerate_single_line(\"Judge Initials\", record.bjlCase.judgeInitials) + \n\t\t\t\t\t\t\t\tgenerate_single_line(\"Judges Name\", record.bjlCase.judgesName) + \n\t\t\t\t\t\t\t\tgenerate_single_line(\"Page\", record.bjlCase.page) + \n\t\t\t\t\t\t\t\tgenerate_single_line(\"Satisfied Date\", format_date(record.bjlCase.satisfiedDate)) + \n\t\t\t\t\t\t\t\tgenerate_single_line(\"Scheduled Court Date\", format_date(record.bjlCase.scheduledCourtDate)) + \n\t\t\t\t\t\t\t\tgenerate_single_line(\"Serial Number\", record.bjlCase.serialNumber) + \n\t\t\t\t\t\t\t\tgenerate_single_line(\"State\", record.bjlCase.state) + \n\t\t\t\t\t\t\t\tgenerate_single_line(\"Status Code\", record.bjlCase.statusCode) + \n\t\t\t\t\t\t\tend_wrapper() + \n\t\t\t\t\t\t\tco_defend_block + \n\t\t\t\t\t\t\tstart_wrapper(\"Defendant\") + \n\t\t\t\t\t\t\tgenerate_single_line(\"Address\", format_full_address(record.defendant.address)) + \n\t\t\t\t\t\t\tgenerate_single_line(\"Name\", record.defendant.defendantName.fullName) + \n\t\t\t\t\t\t\tgenerate_single_line(\"Date of Birth\", format_blocked_date(record.defendant.dob)) + \n\t\t\t\t\t\t\tgenerate_single_line(\"Drivers License Number\", record.defendant.driverLicenseNum) + \n\t\t\t\t\t\t\tgenerate_single_line(\"Drivers License State\", record.defendant.driverLicenseState) + \n\t\t\t\t\t\t\tgenerate_single_line(\"SSN\", format_ssn(record.defendant.ssn)) + \n\t\t\t\t\t\t\tgenerate_single_line(\"Entity Type\", (record.defendant.entityType == \"I\" ? \"Individual\" : (record.defendant.entityType == \"B\" ? \"Business\" : \"\") )) + \n\t\t\t\t\t\t\tdefend_attorney_block + end_wrapper() + \n\t\t\t\t\t\t\tmonetary_block + trusee_block + \n\t\t\t\t\t\t\tstart_wrapper(\"Plaintiff\") + \n\t\t\t\t\t\t\tgenerate_single_line(\"Address\", format_full_address(record.plaintiff.address)) + \n\t\t\t\t\t\t\tgenerate_single_line(\"Entity Type\", (record.plaintiff.entityType == \"I\" ? \"Individual\" : (record.plaintiff.entityType == \"B\" ? \"Business\" : \"\") )) + \n\t\t\t\t\t\t\tgenerate_single_line(\"Name\", record.plaintiff.plaintiffName.name) + \n\t\t\t\t\t\t\tplaintiff_attorney_block + \n\t\t\t\t\t\t\tend_wrapper();\n\t\t\t\t\t    $KOBJ(\"#kynetx-financial\").append(full_wrap_start() + result + full_wrap_end());\n\t\t\t\t\t};\n\t\t\t\t\t$KOBJ(search_button).html(\"\");\n\t\t\t\t\t$KOBJ(\".SEARCHFIN\").show();\n\t\t\t\t\t$KOBJ(\"#kynetx-financial\").show();\n\t\t\t\t\tvar service_error = false;\n\t\t\t\t\tif ($KOBJ.isEmptyObject(brecords) || brecords.service_error != null) {\n\t\t\t\t\t    service_error = true;\n\t\t\t\t\t    $K(\"#kynetx-financial\").append(\"<br>Bankruptcy service is currently down</br>\");\n\t\t\t\t\t} else {\n\t\t\t\t\t    if (!$KOBJ.isEmptyObject(brecords.results.length)) {\n\t\t\t\t\t        var output_one = false;\n\t\t\t\t\t        $KOBJ.each(brecords.results, function(index) {\n\t\t\t\t\t            output_one = true;\n\t\t\t\t\t            process_single_record(brecords.results[index]);\n\t\t\t\t\t        });\n\t\t\t\t\t        if (!output_one) {\n\t\t\t\t\t            $KOBJ(\"#kynetx-financial\").append(notFound);\n\t\t\t\t\t        }\n\t\t\t\t\t    }\n\t\t\t\t\t}                      "}],"post":null,"pre":[{"rhs":{"source":"page","predicate":"var","args":[{"val":"firstname","type":"str"}],"type":"qualified"},"lhs":"first","type":"expr"},{"rhs":{"source":"page","predicate":"var","args":[{"val":"lastname","type":"str"}],"type":"qualified"},"lhs":"last","type":"expr"},{"rhs":{"source":"page","predicate":"var","args":[{"val":"state","type":"str"}],"type":"qualified"},"lhs":"state","type":"expr"},{"rhs":{"source":"page","predicate":"var","args":[{"val":"birthdate","type":"str"}],"type":"qualified"},"lhs":"birthdate","type":"expr"},{"rhs":{"args":[{"val":"first","type":"var"},{"args":[{"val":" ","type":"str"},{"val":"last","type":"var"}],"type":"prim","op":"+"}],"type":"prim","op":"+"},"lhs":"name","type":"expr"},{"rhs":{"source":"page","predicate":"var","args":[{"val":"city","type":"str"}],"type":"qualified"},"lhs":"city","type":"expr"},{"rhs":{"source":"page","predicate":"var","args":[{"val":"zip","type":"str"}],"type":"qualified"},"lhs":"zip","type":"expr"},{"rhs":{"source":"page","predicate":"var","args":[{"val":"birthmonth","type":"str"}],"type":"qualified"},"lhs":"birthMonth","type":"expr"},{"rhs":{"source":"page","predicate":"var","args":[{"val":"birthyear","type":"str"}],"type":"qualified"},"lhs":"birthYear","type":"expr"},{"rhs":{"source":"page","predicate":"var","args":[{"val":"streetAddress","type":"str"}],"type":"qualified"},"lhs":"streetAddress","type":"expr"},{"rhs":{"source":"page","predicate":"var","args":[{"val":"search_button","type":"str"}],"type":"qualified"},"lhs":"search_button","type":"expr"},{"rhs":{"source":"datasource","predicate":"bjl","args":[{"val":[{"rhs":{"val":"1","type":"str"},"lhs":"dummy"},{"rhs":{"val":"first","type":"var"},"lhs":"first_name"},{"rhs":{"val":"last","type":"var"},"lhs":"last_name"},{"rhs":{"val":"state","type":"var"},"lhs":"state"},{"rhs":{"val":"streetAddress","type":"var"},"lhs":"address_line"}],"type":"hashraw"}],"type":"qualified"},"lhs":"brecords","type":"expr"},{"rhs":"<br><b>Financial records were not found for #{name} at #{streetAddress}, #{city}  #{state} #{zip}</b><br>      \n ","lhs":"notFound","type":"here_doc"}],"name":"bjl_report","start_col":5,"emit":null,"state":"active","callbacks":null,"pagetype":{"event_expr":{"pattern":"https://www.entity.dnb.com:8443/Demo/EntityInvestigate/search/databases.*|https://www.entity.dnb.com/Demo/EntityInvestigate/.*","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":16}],"meta_start_col":5,"meta":{"logging":"on","name":"D&B investigate Banrupt DEMO","meta_start_line":2,"author":"Mike Grace","description":"dialogue part to dnb investigate app    \n","meta_start_col":5},"dispatch_start_line":10,"global_start_col":5,"ruleset_name":"a93x26"}
