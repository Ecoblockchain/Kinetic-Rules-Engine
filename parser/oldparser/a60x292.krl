{"global":[{"content":"/*******************************\n        Wireframe \n      *******************************/\n      .action-container {\n        width: 500px;\n        min-height: 400px;\n        background-color: gray;\n        position: relative;\n      }\n\n      .header {\n        height: 30px;\n        background-color: red;\n      }\n\n      .title {\n        position: absolute;\n        top: 5px;\n        left: 5px;\n      }\n\n      .buttons {\n        position: absolute;\n        top: 5px;\n        right: 25px;\n      }\n\n      .close {\n        position: absolute;\n        top: 5px;\n        right: 5px;\n      }\n\n      .content {\n        padding: 5px;\n      }\n      \n      .clear {\n        clear: both;\n        height: 0px;\n      }\n\n      /*******************************\n        Individual parts\n          #linkedin\n          #backtweets\n          #stocks\n          #news\n          #twitter\n          #facebook\n          #youtube\n      *******************************/\n\n      /*******************************\n            LINKEDIN\n      *******************************/\n\n      /*******************************\n            BACKTWEETS\n      *******************************/\n\n      /*******************************\n            STOCKS\n      *******************************/\n\n      /*******************************\n            NEWS\n      *******************************/\n\n      /*******************************\n            TWITTER\n      *******************************/\n\n      /*******************************\n            FACEBOOK-STREAM\n      *******************************/\n      #facebook-meta {\n        background-color:yellow;\n        float:left;\n        width:44%;\n        \n      }\n      \n      #stream {\n        background-color:green;\n        float:left;\n        margin:5px;\n        width:53%;\n      }\n      \n      /*******************************\n            YOUTUBE\n      *******************************/\n    ","type":"css"}],"global_start_line":19,"dispatch":[{"domain":"example.com","ruleset_id":null}],"dispatch_start_col":3,"meta_start_line":2,"rules":[{"cond":{"args":[{"source":"facebook","predicate":"authorized","args":[],"type":"qualified"}],"type":"pred","op":"negation"},"blocktype":"every","actions":[{"action":{"source":"facebook","name":"authorize","args":[{"val":[{"val":"publish_stream","type":"str"},{"val":"email","type":"str"},{"val":"user_photos","type":"str"},{"val":"read_stream","type":"str"},{"val":"user_notes","type":"str"},{"val":"offline_access","type":"str"},{"val":"user_about_me","type":"str"},{"val":"user_notes","type":"str"},{"val":"user_photos","type":"str"},{"val":"user_likes","type":"str"},{"val":"user_online_presence","type":"str"}],"type":"array"}],"modifiers":[{"value":{"val":1,"type":"num"},"name":"opacity"},{"value":{"val":"true","type":"bool"},"name":"sticky"}],"vars":null},"label":null}],"post":{"alt":null,"type":"fired","cons":[{"test":null,"statement":"last","type":"control"}]},"pre":null,"name":"auth_app","start_col":3,"emit":null,"state":"active","callbacks":null,"pagetype":{"event_expr":{"pattern":".*","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":118},{"cond":{"val":"true","type":"bool"},"blocktype":"every","actions":[{"action":{"source":null,"name":"notify","args":[{"val":"FB user search","type":"str"},{"val":"done","type":"str"}],"modifiers":null,"vars":null},"label":null},{"action":{"source":null,"name":"prepend","args":[{"val":"body","type":"str"},{"val":"wireframe","type":"var"}],"modifiers":null,"vars":null},"label":null}],"post":null,"pre":[{"rhs":{"source":"facebook","predicate":"get","args":[{"val":[{"rhs":{"val":"762965611","type":"str"},"lhs":"id"},{"rhs":{"val":"feed","type":"str"},"lhs":"connection"}],"type":"hashraw"}],"type":"qualified"},"lhs":"stream","type":"expr"},{"rhs":{"obj":{"val":"stream","type":"var"},"args":[{"val":"$.data","type":"str"}],"name":"pick","type":"operator"},"lhs":"pickedstream","type":"expr"},{"rhs":{"source":"facebook","predicate":"get","args":[{"val":[{"rhs":{"val":"762965611","type":"str"},"lhs":"id"}],"type":"hashraw"}],"type":"qualified"},"lhs":"profile","type":"expr"},{"rhs":{"source":"facebook","predicate":"picture","args":[{"val":[{"rhs":{"val":"762965611","type":"str"},"lhs":"id"},{"rhs":{"val":"large","type":"str"},"lhs":"type"}],"type":"hashraw"}],"type":"qualified"},"lhs":"avatar","type":"expr"},{"rhs":{"val":"Facebook Stream","type":"str"},"lhs":"title","type":"expr"},{"rhs":{"val":"","type":"str"},"lhs":"buttons","type":"expr"},{"rhs":{"obj":{"val":"profile","type":"var"},"args":[{"val":"name","type":"str"}],"name":"pick","type":"operator"},"lhs":"name","type":"expr"},{"rhs":{"obj":{"val":"profile","type":"var"},"args":[{"val":"about","type":"str"}],"name":"pick","type":"operator"},"lhs":"about","type":"expr"},{"rhs":{"obj":{"val":"profile","type":"var"},"args":[{"val":"bio","type":"str"}],"name":"pick","type":"operator"},"lhs":"bio","type":"expr"},{"rhs":"<div id=\"facebook-stream\" class=\"action-container\">\n          <div class=\"header\">\n            <div class=\"title\">#{title}</div>\n            <div class=\"buttons\">#{buttons}</div>\n            <img class=\"close\" src=\"https://kynetx-apps.s3.amazonaws.com/salesforce-db-mashup/close.png\"/>\n          </div><!-- .header -->\n          <div class=\"content\">\n            <div id=\"facebook-meta\">\n              <img id=\"avatar\" src=\"#{avatar}\"/>\n              <p>#{name}</p>\n              <p>#{about}</p>\n              <p>#{bio}</p>\n            </div>\n            <div id=\"stream\"></div>\n            <br class=\"clear\"/>\n          </div>\n        </div><!-- .action-container -->\n      ","lhs":"wireframe","type":"here_doc"}],"name":"set_fb_profile_meta","start_col":3,"emit":null,"state":"active","callbacks":null,"pagetype":{"event_expr":{"pattern":".*","legacy":1,"type":"prim_event","vars":null,"op":"pageview"},"foreach":[]},"start_line":133},{"cond":{"val":"true","type":"bool"},"blocktype":"every","actions":[{"label":null,"emit":"console.log(ripple);\n      "},{"action":{"source":null,"name":"append","args":[{"val":"#stream","type":"str"},{"val":"streamItem","type":"var"}],"modifiers":null,"vars":null},"label":null}],"post":null,"pre":[{"rhs":{"obj":{"val":"ripple","type":"var"},"args":[{"val":"$.id","type":"str"}],"name":"pick","type":"operator"},"lhs":"id","type":"expr"},{"rhs":{"obj":{"val":"ripple","type":"var"},"args":[{"val":"$..from.name","type":"str"}],"name":"pick","type":"operator"},"lhs":"from","type":"expr"},{"rhs":{"obj":{"val":"ripple","type":"var"},"args":[{"val":"$..from.id","type":"str"}],"name":"pick","type":"operator"},"lhs":"fromid","type":"expr"},{"rhs":{"source":"facebook","predicate":"picture","args":[{"val":"fromid","type":"var"}],"type":"qualified"},"lhs":"avatar","type":"expr"},{"rhs":{"obj":{"val":"ripple","type":"var"},"args":[{"val":"$..message","type":"str"}],"name":"pick","type":"operator"},"lhs":"message","type":"expr"},{"rhs":{"obj":{"val":"ripple","type":"var"},"args":[{"val":"$..icon","type":"str"}],"name":"pick","type":"operator"},"lhs":"icon","type":"expr"},{"rhs":{"obj":{"val":"ripple","type":"var"},"args":[{"val":"$..link","type":"str"}],"name":"pick","type":"operator"},"lhs":"link","type":"expr"},{"rhs":{"obj":{"val":"ripple","type":"var"},"args":[{"val":"$.attribution","type":"str"}],"name":"pick","type":"operator"},"lhs":"attribution","type":"expr"},{"rhs":{"obj":{"val":"ripple","type":"var"},"args":[{"val":"$..description","type":"str"}],"name":"pick","type":"operator"},"lhs":"description","type":"expr"},{"rhs":{"obj":{"val":"ripple","type":"var"},"args":[{"val":"$..data.name","type":"str"}],"name":"pick","type":"operator"},"lhs":"to","type":"expr"},{"rhs":{"obj":{"val":"ripple","type":"var"},"args":[{"val":"$..type","type":"str"}],"name":"pick","type":"operator"},"lhs":"type","type":"expr"},{"rhs":{"obj":{"val":"ripple","type":"var"},"args":[{"val":"$..picture","type":"str"}],"name":"pick","type":"operator"},"lhs":"picture","type":"expr"},{"rhs":"<div class=\"ripple\">\n          <div class=\"user\">\n            <img src=\"#{avatar}\"/>\n            <p>#{from}</p>\n          </div>\n          <div class=\"content\">\n            #{}\n          </div>\n          <p><img src=\"#{avatar}\"</p>\n          <p>ID: #{id}</p>\n          <p>From: #{from}</p>\n          <p>Message: #{message}</p>\n          <p>link: <a href=\"#{link}\">#{link}</a></p>\n          <p>Icon: <img src=\"#{icon}\"/></p>\n          <p>Attribution: #{attribution}</p>\n          <p>Description: #{description}</p>\n          <p>To: #{to}</p>\n          \n          <p>Type: #{type}</p>\n          <p>Picture: <img src=\"#{picture}\"</p>\n        </div><!-- .ripple -->\n      ","lhs":"streamItem","type":"here_doc"}],"name":"loop_over_fb_stream","start_col":3,"emit":null,"state":"active","callbacks":null,"pagetype":{"event_expr":{"pattern":".*","legacy":1,"type":"prim_event","vars":null,"op":"pageview"},"foreach":[{"expr":{"obj":{"source":"facebook","predicate":"get","args":[{"val":[{"rhs":{"val":"762965611","type":"str"},"lhs":"id"},{"rhs":{"val":"feed","type":"str"},"lhs":"connection"},{"rhs":{"val":"id,from,message,link,attribution,source,icon,picture","type":"str"},"lhs":"fields"}],"type":"hashraw"},{"val":30,"type":"num"}],"type":"qualified"},"args":[{"val":"$.data","type":"str"}],"name":"pick","type":"operator"},"var":["ripple"]}]},"start_line":173}],"meta_start_col":3,"meta":{"keys":{"facebook":{"consumer_secret":"8195a2915a10839c0ab36808cd26917d","consumer_key":"140138249352676"}},"logging":"on","name":"fb-get-profile-data","meta_start_line":2,"author":"Mike Grace","description":"get profile data\n    ","meta_start_col":3},"dispatch_start_line":15,"global_start_col":3,"ruleset_name":"a60x292"}
