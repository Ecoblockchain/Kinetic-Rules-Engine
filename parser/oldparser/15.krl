{"global":[{"emit":"var url_prefix = \"http://frag.kobj.net/clients/1024/images/\";\n\nvar link_text = {\n  aaa: \"<div style='padding-top: 18px'>AAA</div>\",\n  aarp: \"<div style='padding-top: 18px'>AARP</div>\",\n  amex: \"<div style='padding-top: 8px'>American<br/>Express</div>\",\n  bcc: \"<img style='padding-top: 8px' src='\" + url_prefix + \"bcc_logo_34.png' border='0' align='right'>\",\n  ebates: \"<img style='padding-top: 10px' src='\" + url_prefix + \"ebates_logo_34.png' border='0' align='right'>\",\n  mod: \"<img style='padding-top: 10px' src='\" + url_prefix + \"mod_logo_34.png' border='0' align='right'>\",\n  sadv: \"<div style='padding-top: 8px'>Student<br/>Advantage</div>\",\n  upromise: \"<div style='padding-top: 18px'>UPromise</div>\"\n};\n\nfunction mk_rm_div (anchor) {\n  var logo_item = $K('<li>').css(\n          {\"float\": \"left\",\n\t   \"margin\": \"0\",\n\t   \"vertical-align\": \"middle\",\n\t   \"padding-left\": \"4px\",\n\t   \"color\": \"#CCC\",\n\t   \"white-space\": \"nowrap\",\n           \"text-align\": \"center\"\n          }).append(anchor);\n  var logo_list = $K('<ul>').css(\n          {\"margin\": \"0\",\n           \"padding\": \"0\",\n           \"list-style\": \"none\"\n          }).attr(\"id\", \"KOBJ_logo_list\").append(logo_item);\n  var inner_div = $K('<div>').css(\n          {\"height\": \"50px\",\n           \"margin-left\": \"55px\",\n           \"padding-right\": \"15px\",\n           \"background-image\": \"url(\" + url_prefix + \"remindme_bar_r.png)\",\n           \"background-repeat\": \"no-repeat\",\n           \"background-position\": \"right top\"\n          }).append(logo_list);\n  var rm_div = $K('<div>').css(\n          {\"float\": \"right\",\n           \"width\": \"auto\",\n           \"height\": \"50px\",\n           \"font-size\": \"14px\",\n           \"line-height\": \"normal\",\n           \"font-family\": \"Verdana, Geneva, sans-serif\",\n           \"background-image\": \"url(\"+ url_prefix + \"remindme_bar_l.png)\",           \"background-repeat\": \"no-repeat\",\n           \"background-position\": \"left top\"\n\t   }).append(inner_div);\n  return rm_div;\n}\n\nfunction mk_anchor (o, key) {\n   return $K('<a>').attr(\n            {class: 'KOBJ_'+key,\n             href: o.link,\n     \t     title: o.text || \"Click here for discounts!\"\n   \t    }).append(link_text[key]);\n}\n\nfunction insert_div_google (key, obj) {\n   var host = KOBJ.get_host($K(obj).find(\"cite\").text());\n   var d = KOBJ[key];\n   var o = KOBJ.pick(d[host]);\n   if(o) {\n      $K(obj).find(\"div.s\").prepend(mk_rm_div(mk_anchor(o,key)));\n   }\n};\n\n\nfunction insert_div_yahoo (key, obj) {\n   var host = KOBJ.get_host($K(obj).find(\"span.url\").text());\n   var d = KOBJ[key];\n   var o = KOBJ.pick(d[host]);\n   if(o) {\n     $K(obj).find(\"div.abstr\").prepend(mk_rm_div(mk_anchor(o,key)));\n   }\n};\n\n"}],"global_start_line":4,"dispatch":[],"dispatch_start_col":null,"meta_start_line":null,"rules":[{"cond":{"args":[{"source":"page","predicate":"env","args":[{"val":"datasets","type":"str"}],"type":"qualified"},{"val":"aaa","type":"str"}],"type":"ineq","op":"like"},"blocktype":"every","actions":[{"label":null,"emit":"$K(\"li.g\").each(function() {\n insert_div_google('aaa',this);\n});\n\n    "}],"post":null,"pre":[],"name":"aaa_google","start_col":3,"emit":null,"state":"active","callbacks":{"success":[{"attribute":"class","trigger":null,"value":"KOBJ_aaa","type":"click"}],"failure":null},"pagetype":{"event_expr":{"pattern":"^http://www.google.com","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":92},{"cond":{"args":[{"source":"page","predicate":"env","args":[{"val":"datasets","type":"str"}],"type":"qualified"},{"val":"aaa","type":"str"}],"type":"ineq","op":"like"},"blocktype":"every","actions":[{"label":null,"emit":"$K(\"li div.res\").each(function() { \n insert_div_yahoo('aaa',this);\n})\n\n    "}],"post":null,"pre":[],"name":"aaa_yahoo","start_col":3,"emit":null,"state":"active","callbacks":{"success":[{"attribute":"class","trigger":null,"value":"KOBJ_aaa","type":"click"}],"failure":null},"pagetype":{"event_expr":{"pattern":"^http://search.yahoo.com","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":120},{"cond":{"args":[{"source":"page","predicate":"env","args":[{"val":"datasets","type":"str"}],"type":"qualified"},{"val":"aarp","type":"str"}],"type":"ineq","op":"like"},"blocktype":"every","actions":[{"label":null,"emit":"$K(\"li.g\").each(function() {\n insert_div_google('aarp',this);\n});\n\n    "}],"post":null,"pre":[],"name":"aarp_google","start_col":3,"emit":null,"state":"active","callbacks":{"success":[{"attribute":"class","trigger":null,"value":"KOBJ_aarp","type":"click"}],"failure":null},"pagetype":{"event_expr":{"pattern":"^http://www.google.com","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":150},{"cond":{"args":[{"source":"page","predicate":"env","args":[{"val":"datasets","type":"str"}],"type":"qualified"},{"val":"aarp","type":"str"}],"type":"ineq","op":"like"},"blocktype":"every","actions":[{"label":null,"emit":"$K(\"li div.res\").each(function() { \n insert_div_yahoo('aarp',this);\n})\n\n    "}],"post":null,"pre":[],"name":"aarp_yahoo","start_col":3,"emit":null,"state":"active","callbacks":{"success":[{"attribute":"class","trigger":null,"value":"KOBJ_aarp","type":"click"}],"failure":null},"pagetype":{"event_expr":{"pattern":"^http://search.yahoo.com","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":178},{"cond":{"args":[{"source":"page","predicate":"env","args":[{"val":"datasets","type":"str"}],"type":"qualified"},{"val":"amex","type":"str"}],"type":"ineq","op":"like"},"blocktype":"every","actions":[{"label":null,"emit":"$K(\"li.g\").each(function() {\n insert_div_google('amex',this);\n});\n\n    "}],"post":null,"pre":[],"name":"amex_google","start_col":3,"emit":null,"state":"active","callbacks":{"success":[{"attribute":"class","trigger":null,"value":"KOBJ_amex","type":"click"}],"failure":null},"pagetype":{"event_expr":{"pattern":"^http://www.google.com","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":209},{"cond":{"args":[{"source":"page","predicate":"env","args":[{"val":"datasets","type":"str"}],"type":"qualified"},{"val":"amex","type":"str"}],"type":"ineq","op":"like"},"blocktype":"every","actions":[{"label":null,"emit":"$K(\"li div.res\").each(function() { \n insert_div_yahoo('amex',this);\n})\n\n    "}],"post":null,"pre":[],"name":"amex_yahoo","start_col":3,"emit":null,"state":"active","callbacks":{"success":[{"attribute":"class","trigger":null,"value":"KOBJ_amex","type":"click"}],"failure":null},"pagetype":{"event_expr":{"pattern":"^http://search.yahoo.com","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":237},{"cond":{"args":[{"source":"page","predicate":"env","args":[{"val":"datasets","type":"str"}],"type":"qualified"},{"val":"ebates","type":"str"}],"type":"ineq","op":"like"},"blocktype":"every","actions":[{"label":null,"emit":"$K(\"li.g\").each(function() {\n insert_div_google('ebates',this);\n});\n\n    "}],"post":null,"pre":[],"name":"ebates_google","start_col":3,"emit":null,"state":"active","callbacks":{"success":[{"attribute":"class","trigger":null,"value":"KOBJ_ebates","type":"click"}],"failure":null},"pagetype":{"event_expr":{"pattern":"^http://www.google.com","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":268},{"cond":{"args":[{"source":"page","predicate":"env","args":[{"val":"datasets","type":"str"}],"type":"qualified"},{"val":"ebates","type":"str"}],"type":"ineq","op":"like"},"blocktype":"every","actions":[{"label":null,"emit":"$K(\"li div.res\").each(function() { \n insert_div_yahoo('ebates',this);\n})\n\n    "}],"post":null,"pre":[],"name":"ebates_yahoo","start_col":3,"emit":null,"state":"active","callbacks":{"success":[{"attribute":"class","trigger":null,"value":"KOBJ_ebates","type":"click"}],"failure":null},"pagetype":{"event_expr":{"pattern":"^http://search.yahoo.com","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":296},{"cond":{"args":[{"source":"page","predicate":"env","args":[{"val":"datasets","type":"str"}],"type":"qualified"},{"val":"mod","type":"str"}],"type":"ineq","op":"like"},"blocktype":"every","actions":[{"label":null,"emit":"$K(\"li.g\").each(function() { \n insert_div_google('mod',this);\n});\n\n      "}],"post":null,"pre":[],"name":"mod_google","start_col":3,"emit":null,"state":"active","callbacks":{"success":[{"attribute":"class","trigger":null,"value":"KOBJ_mod","type":"click"}],"failure":null},"pagetype":{"event_expr":{"pattern":"^http://www.google.com","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":328},{"cond":{"args":[{"source":"page","predicate":"env","args":[{"val":"datasets","type":"str"}],"type":"qualified"},{"val":"mod","type":"str"}],"type":"ineq","op":"like"},"blocktype":"every","actions":[{"label":null,"emit":"$K(\"li div.res\").each(function() { \n insert_div_yahoo('mod',this);\n});\n\n    "}],"post":null,"pre":[],"name":"mod_yahoo","start_col":3,"emit":null,"state":"active","callbacks":{"success":[{"attribute":"class","trigger":null,"value":"KOBJ_mod","type":"click"}],"failure":null},"pagetype":{"event_expr":{"pattern":"^http://search.yahoo.com","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":354},{"cond":{"args":[{"source":"page","predicate":"env","args":[{"val":"datasets","type":"str"}],"type":"qualified"},{"val":"sadv","type":"str"}],"type":"ineq","op":"like"},"blocktype":"every","actions":[{"label":null,"emit":"$K(\"li.g\").each(function() { \n insert_div_google('sadv',this);\n});\n\n      "}],"post":null,"pre":[],"name":"sadv_google","start_col":3,"emit":null,"state":"active","callbacks":{"success":[{"attribute":"class","trigger":null,"value":"KOBJ_sadv","type":"click"}],"failure":null},"pagetype":{"event_expr":{"pattern":"^http://www.google.com","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":385},{"cond":{"args":[{"source":"page","predicate":"env","args":[{"val":"datasets","type":"str"}],"type":"qualified"},{"val":"sadv","type":"str"}],"type":"ineq","op":"like"},"blocktype":"every","actions":[{"label":null,"emit":"$K(\"li div.res\").each(function() { \n insert_div_yahoo('sadv',this);\n});\n\n    "}],"post":null,"pre":[],"name":"sadv_yahoo","start_col":3,"emit":null,"state":"active","callbacks":{"success":[{"attribute":"class","trigger":null,"value":"KOBJ_sadv","type":"click"}],"failure":null},"pagetype":{"event_expr":{"pattern":"^http://search.yahoo.com","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":411},{"cond":{"args":[{"source":"page","predicate":"env","args":[{"val":"datasets","type":"str"}],"type":"qualified"},{"val":"upromise","type":"str"}],"type":"ineq","op":"like"},"blocktype":"every","actions":[{"label":null,"emit":"$K(\"li.g\").each(function() { \n insert_div_google('upromise',this);\n});\n\n      "}],"post":null,"pre":[],"name":"upromise_google","start_col":3,"emit":null,"state":"active","callbacks":{"success":[{"attribute":"class","trigger":null,"value":"KOBJ_upromise","type":"click"}],"failure":null},"pagetype":{"event_expr":{"pattern":"^http://www.google.com","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":441},{"cond":{"args":[{"source":"page","predicate":"env","args":[{"val":"datasets","type":"str"}],"type":"qualified"},{"val":"upromise","type":"str"}],"type":"ineq","op":"like"},"blocktype":"every","actions":[{"label":null,"emit":"$K(\"li div.res\").each(function() { \n insert_div_yahoo('upromise',this);\n});\n\n    "}],"post":null,"pre":[],"name":"upromise_yahoo","start_col":3,"emit":null,"state":"active","callbacks":{"success":[{"attribute":"class","trigger":null,"value":"KOBJ_upromise","type":"click"}],"failure":null},"pagetype":{"event_expr":{"pattern":"^http://search.yahoo.com","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":467},{"cond":{"args":[{"source":"page","predicate":"env","args":[{"val":"datasets","type":"str"}],"type":"qualified"},{"val":"bcc","type":"str"}],"type":"ineq","op":"like"},"blocktype":"every","actions":[{"label":null,"emit":"var KOBJ_bcc_html = function(bcc_data, container_tag) { \n   var bcc_html = $K('<img>').attr(\n      {src: \"http://frag.kobj.net/clients/15/images/BCC_logo.png\",\n       border: \"0\",\n       align: \"left\",\n       valign: \"middle\"\n       });\n\n   if(bcc_data.link) {\n     bcc_html = $K('<a>').attr(\n       {class: \"KOBJ_bcc\",\n        href: bcc_data.link,\n\ttitle: bcc_data.text\n\t}).append(bcc_html);\n   }\n\n   var td1 = $K('<td>').append(bcc_html);\n   var td2 = $K('<td>').attr(\n                {bgcolor: '#ccffcc',\n\t\t}).text(bcc_data.text);\n\n   bcc_html = $K('<table>').css('padding','10px').append(\n                    $K('<tr>').append(td1).append(td2)\n\t\t    );\n\n   return $K(container_tag).append(bcc_html);\n};\n\n\nvar KOBJ_bcc_googlemaps_ol= function() { \n $K(\"div.local div.res div.one\").each(function() { \n   var pn = $K(this).find(\"span#sxphone\").text().replace(/\\(|\\)|-|\\.|\\s/g,'');\n   var o = KOBJ.pick(KOBJ.bcc[pn]);\n   if(o)  {\n     $K(this).find(\"div.sa\").after(KOBJ_bcc_html(o, '<div>'));\n   };\n\n });\n return true;\n};\n$K(\"form#q_form\").submit(function(e){\n  setTimeout(\"(KOBJ_bcc_googlemaps_ol());\",2000);\n});\n\n    "}],"post":null,"pre":[],"name":"bcc_googlemaps","start_col":3,"emit":null,"state":"active","callbacks":{"success":[{"attribute":"class","trigger":null,"value":"KOBJ_bcc","type":"click"}],"failure":null},"pagetype":{"event_expr":{"pattern":"^http://maps.google.com","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":501},{"cond":{"args":[{"source":"page","predicate":"env","args":[{"val":"datasets","type":"str"}],"type":"qualified"},{"val":"bcc","type":"str"}],"type":"ineq","op":"like"},"blocktype":"every","actions":[{"label":null,"emit":"var KOBJ_bcc_html = function(bcc_data, container_tag) { \n   var bcc_html = $K('<img>').attr(\n      {src: \"http://frag.kobj.net/clients/15/images/BCC_logo.png\",\n       border: \"0\",\n       align: \"left\",\n       valign: \"middle\"\n       });\n\n   if(bcc_data.link) {\n     bcc_html = $K('<a>').attr(\n       {class: \"KOBJ_bcc\",\n        href: bcc_data.link,\n\ttitle: bcc_data.text\n\t}).append(bcc_html);\n   }\n\n   var td1 = $K('<td>').append(bcc_html);\n   var td2 = $K('<td>').attr(\n                {bgcolor: '#ccffcc',\n\t\t}).text(bcc_data.text);\n\n   bcc_html = $K('<table>').css('padding','10px').append(\n                    $K('<tr>').append(td1).append(td2)\n\t\t    );\n\n   return $K(container_tag).append(bcc_html);\n};\n\n\n$K(\"#yls-results tbody\").each(function() { \n var pn = $K(this).find(\"span.tel\").text().replace(/\\(|\\)|-|\\.|\\s/g,'');\n var o = KOBJ.pick(KOBJ.bcc[pn]);\n if(o)  {\n   $K(this).find(\"td.yls-rs-bizinfo\").append(KOBJ_bcc_html(o, '<div>'));\n }\n});\n\n    "}],"post":null,"pre":[],"name":"bcc_yahoo_local","start_col":3,"emit":null,"state":"active","callbacks":{"success":[{"attribute":"class","trigger":null,"value":"KOBJ_bcc","type":"click"}],"failure":null},"pagetype":{"event_expr":{"pattern":"^http://local.yahoo.com","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":570},{"cond":{"args":[{"source":"page","predicate":"env","args":[{"val":"datasets","type":"str"}],"type":"qualified"},{"val":"bcc","type":"str"}],"type":"ineq","op":"like"},"blocktype":"every","actions":[{"label":null,"emit":"var KOBJ_bcc_html = function(bcc_data, container_tag) { \n   var bcc_html = $K('<img>').attr(\n      {src: \"http://frag.kobj.net/clients/15/images/BCC_logo.png\",\n       border: \"0\",\n       align: \"left\",\n       valign: \"middle\"\n       });\n\n   if(bcc_data.link) {\n     bcc_html = $K('<a>').attr(\n       {class: \"KOBJ_bcc\",\n        href: bcc_data.link,\n\ttitle: bcc_data.text\n\t}).append(bcc_html);\n   }\n\n   var td1 = $K('<td>').append(bcc_html);\n   var td2 = $K('<td>').attr(\n                {bgcolor: '#ccffcc',\n\t\t}).text(bcc_data.text);\n\n   bcc_html = $K('<table>').css('padding','10px').append(\n                    $K('<tr>').append(td1).append(td2)\n\t\t    );\n\n   return $K(container_tag).append(bcc_html);\n};\n\n$K(\"ul.listingLayout ol.linklist > li\").each(function() { \n var pn = $K(this).find(\"ul.linklistNoBullets li:eq(1)\").text().split(\"|\").pop();\n pn = pn.replace(/\\(|\\)|-|\\.|\\s/g,'');\n var o = KOBJ.pick(KOBJ.bcc[pn]);\n if(o)  {\n   $K(this).find(\"ul.linklistNoBullets\").append(KOBJ_bcc_html(o, '<li>'));\n }\n\n});\n\n\n    "}],"post":null,"pre":[],"name":"bcc_boston_search","start_col":3,"emit":null,"state":"active","callbacks":{"success":[{"attribute":"class","trigger":null,"value":"KOBJ_bcc","type":"click"}],"failure":null},"pagetype":{"event_expr":{"pattern":"^http://search.boston.com","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":629},{"cond":{"args":[{"source":"page","predicate":"env","args":[{"val":"datasets","type":"str"}],"type":"qualified"},{"val":"bcc","type":"str"}],"type":"ineq","op":"like"},"blocktype":"every","actions":[{"label":null,"emit":"var KOBJ_bcc_html = function(bcc_data, container_tag) { \n   var bcc_html = $K('<img>').attr(\n      {src: \"http://frag.kobj.net/clients/15/images/BCC_logo.png\",\n       border: \"0\",\n       align: \"left\",\n       valign: \"middle\"\n       });\n\n   if(bcc_data.link) {\n     bcc_html = $K('<a>').attr(\n       {class: \"KOBJ_bcc\",\n        href: bcc_data.link,\n\ttitle: bcc_data.text\n\t}).append(bcc_html);\n   }\n\n   var td1 = $K('<td>').append(bcc_html);\n   var td2 = $K('<td>').attr(\n                {bgcolor: '#ccffcc',\n\t\t}).text(bcc_data.text);\n\n   bcc_html = $K('<table>').css('padding','10px').append(\n                    $K('<tr>').append(td1).append(td2)\n\t\t    );\n\n   return $K(container_tag).append(bcc_html);\n};\n\nvar KOBJ_insert_bcc_ol= function(rlist_selector, phone_selector) { \n  $K(rlist_selector).each(function() { \n   var pn = $K(this).find(phone_selector).text().replace(/\\(|\\)|-|\\.|\\s/g,'');\n   var o = KOBJ.pick(KOBJ.bcc[pn]);\n   if(o)  {\n     $K(this).append(KOBJ_bcc_html(o, '<div>'));\n   }\n  });\n  return true;\n};\n\nvar KOBJ_bcc_yelp_binder = function() {\n  $K(\"#searchLayoutFilters li\").click(function(e){\n    setTimeout(\n    \"KOBJ_insert_bcc_ol('#businessresults div.businessresult','div.phone');KOBJ_bcc_yelp_binder();\",\n    5000);\n  });\n};\n\nKOBJ_insert_bcc_ol('#businessresults div.businessresult','div.phone');\nKOBJ_bcc_yelp_binder();\n    "}],"post":null,"pre":[],"name":"bcc_yelp","start_col":3,"emit":null,"state":"active","callbacks":{"success":[{"attribute":"class","trigger":null,"value":"KOBJ_bcc","type":"click"}],"failure":null},"pagetype":{"event_expr":{"pattern":"^http://www.yelp.com","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":691}],"meta_start_col":null,"meta":{},"dispatch_start_line":null,"global_start_col":3,"ruleset_name":"15"}
