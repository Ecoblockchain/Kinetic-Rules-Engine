{"global":[{"source":"http://backtweets.com/search.json?key=165e6c1f5f02618f68dd&q=","name":"btweets","type":"datasource","datatype":"JSON","cachable":0}],"global_start_line":13,"dispatch":[],"dispatch_start_col":2,"meta_start_line":2,"rules":[{"cond":{"val":"true","type":"bool"},"blocktype":"every","actions":[{"action":{"source":null,"name":"notify","args":[{"val":"Search Term Grabber","type":"str"},{"val":"msg","type":"var"}],"modifiers":[{"value":{"val":"true","type":"bool"},"name":"sticky"}],"vars":null},"label":null},{"action":{"source":null,"name":"watch","args":[{"val":"div#msgHolder>button:eq(0)","type":"str"},{"val":"click","type":"str"}],"modifiers":null,"vars":null},"label":null}],"post":null,"pre":[{"rhs":"<div id = \"msgHolder\">\n\t\t\t\t\tClick the button below to see the magic!\n\t\t\t\t\t<br />\n\t\t\t\t\t<br />\n\t\t\t\t\t<button type = \"button\">Send search terms to api</button>\n\t\t\t\t\t<br /> \n\t\t\t\t\t<br />\n\t\t\t\t\t<span style = \"font-size:x-large;\">After clicking the button, tweets about your query will appear below</span>\n\t\t\t\t\t<br />\n\t\t\t\t</div>\n\t\t\t","lhs":"msg","type":"here_doc"}],"name":"grab_search_term","start_col":2,"emit":null,"state":"active","callbacks":null,"pagetype":{"event_expr":{"domain":null,"pattern":"http://(?:www|search).(?:bing|google|yahoo).com/.*(?:search|#hl|webhp).*(?:&|\\?)(?:p|q)=(.*?)(:?&|$)","type":"prim_event","vars":["query"],"op":"pageview"},"foreach":[]},"start_line":17},{"cond":{"val":"true","type":"bool"},"blocktype":"every","actions":[{"action":{"source":null,"name":"append","args":[{"val":"#msgHolder","type":"str"},{"val":"content","type":"var"}],"modifiers":null,"vars":null},"label":null}],"post":null,"pre":[{"rhs":{"obj":{"val":"tweetData","type":"var"},"args":[{"val":"$..tweet_from_user","type":"str"}],"name":"pick","type":"operator"},"lhs":"user","type":"expr"},{"rhs":{"obj":{"val":"tweetData","type":"var"},"args":[{"val":"$..tweet_text","type":"str"}],"name":"pick","type":"operator"},"lhs":"tweet","type":"expr"},{"rhs":"<br />\n\t\t\t\t<span>@<a href=\"http://twitter.com/#{user}\" target = \"_blank\">#{user}</a> tweeted: #{tweet}</span>\n\t\t\t\t<br />\n\t\t\t","lhs":"content","type":"here_doc"}],"name":"send_search_term_to_api_append_div","start_col":2,"emit":null,"state":"active","callbacks":null,"pagetype":{"event_expr":{"args":[{"domain":null,"pattern":"http://(?:www|search).(?:bing|google|yahoo).com/.*(?:search|#hl|webhp).*(?:&|\\?)(?:p|q)=(.*?)(:?&|$)","type":"prim_event","vars":["query"],"op":"pageview"},{"on":null,"domain":"web","type":"prim_event","vars":null,"op":"click","element":"div#msgHolder>button:eq(0)"}],"type":"complex_event","op":"and"},"foreach":[{"expr":{"obj":{"source":"datasource","predicate":"btweets","args":[{"obj":{"val":"query","type":"var"},"args":[{"val":"/http:\\/\\/([A-Za-z0-9.-]+)\\/.*/","type":"regexp"},{"val":"$1","type":"str"}],"name":"replace","type":"operator"}],"type":"qualified"},"args":[{"val":"$..tweets","type":"str"}],"name":"pick","type":"operator"},"var":["tweetData"]}]},"start_line":40}],"meta_start_col":2,"meta":{"logging":"off","name":"Search Term Capture Click Devex Question Demo","meta_start_line":2,"author":"AKO","description":"Search Term Capture Click Devex Question Demo\n\t\t\t","meta_start_col":2},"dispatch_start_line":11,"global_start_col":2,"ruleset_name":"a369x47"}
