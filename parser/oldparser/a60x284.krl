{"global":[{"content":"#KOBJ_status_bar_wrapper {\n        z-index: 20;\n      }\n      #animated-db {\n        margin: 7px;\n        float: left;\n      }\n      .toolbar-button {\n        margin: 12px 5px 0 0;\n        float: left;\n      }\n      a.injected-link {\n        display: block;\n        background-color: #ACD19A;\n      }\n      img.linkedin, img.google-news, img.backtweets, img.skype, a.injected-link, img.rss, img.blogs, img.twitter, img.twitter-contact {\n        cursor: pointer;\n      }\n      img.backtweets, img.skype {\n        margin: 3px 0 -3px 5px;\n      }\n      img.linkedin, img.twitter {\n        margin: 0 0px 3px 3px;\n      }\n      img.google-news, img.rss, img.blogs, img.twitter {\n        margin: 0 0 3px 2px;\n      }\n      img.twitter-contact {\n        margin: 0px 4px -3px 0px;\n      }\n      img.twitter-search {\n        margin: 0 0 4px 3px;\n      }\n      #twitter-search {\n        background-color: wheat;\n        padding-right: 4px;\n        position: absolute;\n        width: 92%;\n      }\n      .search-tweet {\n        float: left;\n        margin: 6px 0 0 11px;\n      }\n      .search-tweet img {\n        height: 50px;\n        width: 50px;\n        float: left;\n        margin-right: 6px;\n      }\n      .search-tweet .user {\n        margin-right: 10px;\n        font-weight: bold;\n        font-size: 110%;\n      }\n      #search-tweets-1, #search-tweets-2, #search-tweets-3 {\n        width: 33%;\n      }\n      #backtweets-iframe {\n        position: absolute;\n        top: 0;\n        right: 0;\n        background-color: white;\n        z-index: 9999;\n      }\n      #google-news-search, #rss-search, #blogs-search, #google-map, {\n        width: 93%;\n        position: absolute !important;\n        background-color: white;\n        border: 1px solid black;\n        z-index: 9999;  \n      }\n      \n      #contact-detail-twitter {\n        background-color:white;\n        border:1px solid #000000;\n        position:absolute;\n      }\n      \n      .contact-detail.google-news-search {\n        position: absolute;\n        left:118px;\n        top:290.317px;\n        z-index:99999;\n      }\n      .linkedin.contact-detail {\n        position: absolute;\n        left: 118px;\n        z-index: 9999;\n        width: 80%;\n      }\n      \n      .contact-detail#google-map {\n        position: absolute;\n        z-index: 99999;\n        left: 118px;\n        width: 85%;\n        border: 1px solid #000;\n      }\n\n    ","type":"css"},{"emit":"$K.fn.exists = function () {\n          return $K(this).length !== 0;\n      }\n      $K(\"head\").append(\"<script>window.onerror = function() { return true }\");\n      function generateFeeds(name) {\n          var rss = \"<a href='http://www.search4rss.com/search.php?q=\" + name.replace(/s/g, \"+\") + \"'><img class='rss' src='https://kynetx-apps.s3.amazonaws.com/salesforce/rss-btn.png'/></a>\";\n          var blogs = \"<a href='http://blogsearch.google.com/blogsearch?q=\" + name.replace(/s/g, \"+\") + \"'><img class='blogs' src='https://kynetx-apps.s3.amazonaws.com/salesforce/blog-btn.png'/></a>\";\n          var twitter = generateTwitterSearch(name);\n          return rss + blogs + twitter;\n      }\n      function generateSkype(number, classs) {\n          if (classs == null) classs = \"skype\";\n          return \"<a href='callto://+1\" + number + \"'><img class='\" + classs + \"' src='https://kynetx-apps.s3.amazonaws.com/salesforce/skype-btn.png'/></a>\";\n      }\n      function generateLinkedin(name, classs, id) {\n          if (classs == null) classs = \"linkedin\";\n          if (id == null) id = \"\";\n          return \"<img class='\" + classs + \"' id='\" + id + \"' src='https://kynetx-apps.s3.amazonaws.com/salesforce/linkedin.png' search='\" + name.replace(/s/g, \"+\") + \"'/>\";\n      }\n      function generateTwitter(name, classs, id) {\n          if (classs == null) classs = \"twitter\";\n          if (id == null) id = \"\";\n          return \"<img class='\" + classs + \"' id='\" + id + \"' src='https://kynetx-apps.s3.amazonaws.com/salesforce/twitter-btn.png' search='\" + name.replace(/s/g, \"+\") + \"'/>\";\n      }\n      function generateTwitterSearch(search, classs) {\n          if (classs == null) classs = \"twitter-search\";\n          return \"<img class='\" + classs + \"' search='\" + search.replace(/s/g, \"+\") + \"' src='https://kynetx-apps.s3.amazonaws.com/salesforce/twitter-btn.png'/>\";\n      } \n    "}],"global_start_line":14,"dispatch":[{"domain":"salesforce.com","ruleset_id":null},{"domain":"example.com","ruleset_id":null}],"dispatch_start_col":3,"meta_start_line":2,"rules":[{"cond":{"val":"true","type":"bool"},"blocktype":"every","actions":[{"label":null,"emit":"///////////////////////\n      // Account list page\n      ///////////////////////\n      if( $K(\"#ext-gen9\").exists() ) {\n        $K(\"#ext-gen9 > div\").each(function() {\n          var currentRow = this;\n          // name\n          var name = $K(currentRow).find(\"tr:first td:eq(3) div a\").text();          \n          ////google news search based on name\n          $K(currentRow).find(\"tr:first td:eq(3)\").append(\"<img class='google-news' src='https://kynetx-apps.s3.amazonaws.com/salesforce/news-btn.png'/>\");\n          $K(currentRow).find(\"img.google-news\").click(function() {\n              var currentGoogleButton = this;\n              $K(currentRow).append(\"<div class='google-news-search'><iframe src='http://news.google.com/news/search?q=\" + escape(name) + \"' width='100%' height='500' ></iframe></div>\");\n              var currentGoogleFrame = $K(currentRow).find(\".google-news-search\");\n              $K(currentGoogleFrame).css({\n                  \"top\": $K(currentRow).offset().top + $K(currentRow).height()\n              });\n              $K(currentGoogleButton).unbind().click(function() {\n                  $K(currentGoogleFrame).slideToggle();\n              });\n          });\n          //// blog search based on account name\n          $K(currentRow).find(\"tr:first td:eq(3)\").append(\"<img class='blogs' src='https://kynetx-apps.s3.amazonaws.com/salesforce/blog-btn.png'/>\");\n          $K(currentRow).find(\"img.blogs\").click(function() {\n              var currentBlogButton = this;\n              $K(currentRow).append(\"<div class='blogs-search'><iframe src='http://blogsearch.google.com/blogsearch?q=\" + escape(name) + \"' width='100%' height='500' ></iframe></div>\");\n              var currentBlogFrame = $K(currentRow).find(\".blogs-search\");\n              $K(currentBlogFrame).css({\n                  \"top\": $K(currentRow).offset().top + $K(currentRow).height()\n              });\n              $K(currentBlogButton).unbind().click(function() {\n                  $K(currentBlogFrame).slideToggle();\n              });\n          }); // end of blog search\n          //// twitter search\n          $K(currentRow).find(\"tr:first td:eq(3)\").append(\"<img class='twitter-search' src='https://kynetx-apps.s3.amazonaws.com/salesforce/twitter-btn.png'/>\");\n          var currentTwitterButton = $K(currentRow).find(\".twitter-search\");\n          $K(currentRow).append(\"<div class='twitter-search-frame'><table></table></div>\");\n          var currentTwitterFrame = $K(currentRow).find(\".twitter-search-frame\");\n          $K(currentTwitterButton).click(function() {\n            $K(currentTwitterFrame).find(\"table\").append(\"<tr><td class='search-tweets-1'><img class='waiting' src='https://kynetx-apps.s3.amazonaws.com/salesforce/waiting.gif'/></td><td class='search-tweets-2'></td><td class='search-tweets-3'></td></tr>\");\n            $K.ajax({\n              url: \"http://search.twitter.com/search.json\",\n              dataType: \"jsonp\",\n              data: {\n                \"callback\": \"\",\n                \"q\": name\n              },\n              success: function(msg) {\n                $K(currentTwitterFrame).find(\"img.waiting\").hide();\n                results = msg.results;\n                tweetCount = results.length;\n                if(tweetCount != 0) {\n                  range1 = tweetCount / 3;\n                  range2 = range1 * 2;\n                  for (i in results) {\n                    r = results[i];\n                    if (i < range1) {\n                        insertPoint = \".search-tweets-1\";\n                    } else if (i < range2) {\n                        insertPoint = \".search-tweets-2\";\n                    } else {\n                        insertPoint = \".search-tweets-3\";\n                    }\n                    $K(currentTwitterFrame).find(insertPoint).append(\"<div class='search-tweet'><img src='\" + r.profile_image_url + \"' style='height:50px;' /><span class='user'>\" + r.from_user + \":</span><span class='tweet'>\" + r.text + \"</span></div>\");\n                  }\n                } else {\n                  $K(currentTwitterFrame).append(\"<h1>No tweets were found when searching for '\" + name + \"'.<h1>\");\n                }\n                $K(currentTwitterButton).unbind();\n                $K(currentTwitterButton).click(function() {\n                    $K(currentTwitterFrame).slideToggle();\n                });\n              },\n              error: function() {\n                  alert(\"There was an error trying to retrieve tweets. Please refresh and try again if you are feeling brave.\");\n              }\n            }); // end of ajax\n          }); // end of twitter search\n          // Phone\n          var phone = $K(currentRow).find(\"tr:first td:eq(5) div\").text(); \n          phone = phone.replace(/-|\\s/g, \"\"); \n          if(phone.length) {\n            $K(currentRow).find(\"tr:first td:eq(5)\").append(generateSkype(phone));\n          }\n        }); // END OF LOOP FOR EACH ROW ON LIST PAGE\n      } // END OF ACCOUNT LIST PAGE ACTIONS\n      \n      ///////////////////////\n      // Account detail page\n      ///////////////////////      \n        //// MAP\n        addressElement = $K(\"table.detailList:eq(0) tr:eq(9) td:eq(1) div\");\n        if ($K(addressElement).text().replace(/\\s+/g, \"\").length != 0) {\n            var billingAddress = $K(addressElement).html().replace(/<br>/gi, \" \").replace(/\\s/gi, \"+\");\n            var mapURL = \"http://maps.google.com/maps?f=d&source=s_d&saddr=&daddr=\" + billingAddress;\n            $K(\"table.detailList:eq(0) tr:eq(9) td:eq(0)\").append(\"<br/><img class='map' src='https://kynetx-apps.s3.amazonaws.com/salesforce/map-btn.png'/>\");\n            $K(\"img.map\").click(function() {\n                offset = $K(this).offset();\n                $K(\"body\").append(\"<div id='google-map'><iframe width='100%' height='600' frameborder='0' marginheight='0' marginwidth='0' src='http://maps.google.com/maps?q=\" + billingAddress + \"'></iframe><br /><small><a href='http://maps.google.com/maps?q=\" + billingAddress + \"&amp;ie=UTF8' style='color:#0000FF;text-align:left'>View Larger Map</a></small></div>\");\n                $K(\"#google-map\").css({\n                    \"top\": offset.top + $K(this).height(),\n                    \"position\": \"absolute\",\n                    \"width\": \"98%\",\n                    \"z-index\":\"9999\",\n                    \"border\":\"1px solid black\"\n                });\n                $K(this).unbind().click(function() {\n                    $K(\"div#google-map\").slideToggle();\n                });\n            });\n        }\n        //// WEBSITE / TWITTER BACKTWEETS\n        website = $K(\"table.detailList:eq(0) tr:eq(2) td:eq(3)\").text();\n        website = website.replace(/\\s/g, \"\");\n        if (website.length != 0) {\n            var backtweetsURL = \"http://backtweets.com/search?q=\" + website;\n            var backtweetsHTML = \"<img class='backtweets' src='https://kynetx-apps.s3.amazonaws.com/salesforce/twitter-btn.png'/>\";\n            $K(\"table.detailList:eq(0) tr:eq(2) td:eq(3)\").append(backtweetsHTML);\n            $K(\"img.backtweets\").click(function() {\n                $K(\"body\").append(\"<div id='backtweets-iframe'><iframe src='\" + backtweetsURL + \"' width='700' height='500' ></iframe></div>\");\n                offset = $K(\"img.backtweets\").offset();\n                $K(\"#backtweets-iframe\").slideUp(1).css({\n                    \"top\": offset.top + 20,\n                    \"right\": \"40px\"\n                }).slideDown();\n                $K(this).unbind().click(function() {\n                    $K(\"#backtweets-iframe\").slideToggle();\n                });\n            });\n        }\n        //// PHONE / SKYPE\n        phoneElement = $K(\"table.detailList:eq(0) tr:eq(0) td:eq(3)\");\n        var phoneNumber = $K(phoneElement).text().replace(/-|\\s/g, \"\");\n        if (phoneNumber.length) {\n            $K(\"table.detailList:eq(0) tr:eq(0) td:eq(3)\").append(generateSkype(phoneNumber));\n        }\n        //// ACCOUNT NAME\n        var nameArea = $K(\".pbSubsection:first tr:eq(1) td:eq(1) div\").text(); // name element also includes link to link for functionality\n        var toBeRemoved = $K(\".pbSubsection:first tr:eq(1) td:eq(1) div a\").text() // part that needs to be removed\n        var accountName = nameArea.replace(toBeRemoved, \"\");\n        accountName = accountName.replace(/\\s$/,\"\");\n        if(accountName.length != 0) {\n          \n          //// RSS SEARCH\n          var rssImage = \"<img class='rss' src='https://kynetx-apps.s3.amazonaws.com/salesforce/rss-btn.png'/>\";\n          $K(\".pbSubsection:first tr:eq(1) td:eq(1)\").append(rssImage);\n          $K(\"img.rss\").css({\n            \"margin\":\"0 7px 0 0\"\n          }).click(function() {\n            var button = this;\n            $K(\"body\").append(rssHTML);\n            $K(\"iframe.rss\").css({\n              \"top\": $K(this).offset().top + $K(this).height(),\n              \"position\": \"absolute\",\n              \"width\": \"98%\",\n              \"z-index\":\"9999\",\n              \"background-color\":\"white\",\n              \"height\":\"500px\"\n            });\n            $K(this).unbind().click(function() {\n              $K(\"iframe.rss\").slideToggle();\n            });\n          });\n          var rssHTML = \"<iframe class='rss' src='http://www.search4rss.com/search.php?q=\" + encodeURIComponent(accountName) + \"'/>\";\n\n          ////// google news search based on account name\n          $K(\".pbSubsection:first tr:eq(1) td:eq(1)\").append(\"<img class='google-news' src='https://kynetx-apps.s3.amazonaws.com/salesforce/news-btn.png'/>\");\n          $K(\"img.google-news\").css({\n            \"margin\":\"0\"\n          }).click(function() {\n              $K(\"body\").append(\"<div id='google-news-search'><iframe src='http://news.google.com/news/search?q=\" + escape(accountName) + \"' width='100%' height='500' ></iframe></div>\");\n              $K(\"div#google-news-search\").css({\n                  \"top\": $K(this).offset().top + $K(this).height(),\n                  \"position\": \"absolute\",\n                  \"width\": \"98%\",\n                  \"z-index\":\"9999\"\n              });\n              $K(this).unbind().click(function() {\n                  $K(\"div#google-news-search\").slideToggle();\n              });\n          });\n          ////// blog search based on account name\n          $K(\".pbSubsection:first tr:eq(1) td:eq(1)\").append(\"<img class='blogs' src='https://kynetx-apps.s3.amazonaws.com/salesforce/blog-btn.png'/>\");\n          $K(\"img.blogs\").css({\n            \"margin\":\"1px 10px\"\n          }).click(function() {\n              $K(\"body\").append(\"<div id='blogs-search'><iframe src='http://blogsearch.google.com/blogsearch?q=\" + escape(accountName) + \"' width='100%' height='500' ></iframe></div>\");\n              $K(\"div#blogs-search\").css({\n                  \"top\": $K(this).offset().top + $K(this).height(),\n                  \"position\": \"absolute\",\n                  \"width\": \"98%\",\n                  \"z-index\":\"9999\"\n              });\n              $K(this).unbind().click(function() {\n                  $K(\"div#blogs-search\").slideToggle();\n              });\n          });\n          ////// twitter search on account name\n          $K(\".pbSubsection:first tr:eq(1) td:eq(1)\").append(\"<img class='tweets' src='https://kynetx-apps.s3.amazonaws.com/salesforce/twitter-btn.png'/>\");\n          var currentTwitterButton = $K(\"img.tweets\");\n          $K(\"body\").append(\"<div id='twitter-search'><table></table></div>\");\n          $K(\"div#twitter-search\").css({\n              \"top\": $K(\"img.tweets\").offset().top + $K(\"img.tweets\").height(),\n              \"position\": \"absolute\",\n              \"width\": \"98%\",\n              \"z-index\":\"9999\"\n          });\n          var currentTwitterFrame = $K(\"#twitter-search\");\n          $K(\"img.tweets\").click(function() {\n            $K(currentTwitterFrame).find(\"table\").append(\"<tr><td class='search-tweets-1'><img class='waiting' src='https://kynetx-apps.s3.amazonaws.com/salesforce/waiting.gif'/></td><td class='search-tweets-2'></td><td class='search-tweets-3'></td></tr>\");\n            $K.ajax({\n              url: \"http://search.twitter.com/search.json\",\n              dataType: \"jsonp\",\n              data: {\n                \"callback\": \"\",\n                \"q\": accountName\n              },\n              success: function(msg) {\n                $K(currentTwitterFrame).find(\"img.waiting\").hide();\n                results = msg.results;\n                tweetCount = results.length;\n                if(tweetCount != 0) {\n                  range1 = tweetCount / 3;\n                  range2 = range1 * 2;\n                  for (i in results) {\n                    r = results[i];\n                    if (i < range1) {\n                        insertPoint = \".search-tweets-1\";\n                    } else if (i < range2) {\n                        insertPoint = \".search-tweets-2\";\n                    } else {\n                        insertPoint = \".search-tweets-3\";\n                    }\n                    $K(currentTwitterFrame).find(insertPoint).append(\"<div class='search-tweet'><img src='\" + r.profile_image_url + \"' style='height:50px;' /><span class='user'>\" + r.from_user + \":</span><span class='tweet'>\" + r.text + \"</span></div>\");\n                  }\n                } else {\n                  $K(currentTwitterFrame).append(\"<h1>No tweets were found when searching for '\" + name + \"'.<h1>\");\n                }\n              },\n              error: function() {\n                  alert(\"There was an error trying to retrieve tweets. Please refresh and try again if you are feeling brave.\");\n              }\n            }); // end of ajax\n            $K(currentTwitterButton).unbind();\n            $K(currentTwitterButton).click(function() {\n                $K(currentTwitterFrame).slideToggle();\n            });\n          }); // end of twitter search\n          \n          // CONTACTS BLOCK ON ACCOUNT DETAIL PAGE\n          if ($K(\".listRelatedObject.contactBlock\").exists()) {\n            $K(\".listRelatedObject.contactBlock tr.dataRow\").each(function() {\n              var currentRow = this;\n              var nameDom = $K(this).find(\"th.dataCell\");\n              var currentName = $K(nameDom).text();\n              var phoneDom = $K(this).find(\"td.PhoneNumberElement\");\n              var currentPhone = $K(phoneDom).text();\n              currentPhone = currentPhone.replace(/\\s+/,\"\");\n              \n              if(currentName.length) {\n                  // LinkedIn            \n                $K(nameDom).append(\"<img class='linkedin' src='https://kynetx-apps.s3.amazonaws.com/salesforce/linkedin.png'/>\");\n                $K(nameDom).find(\"img.linkedin\").css({\n                  \"margin-bottom\":\"-2px\",\n                  \"margin-left\":\"10px\",\n                  \"margin-right\":\"5px\"\n                }).click(function() {     \n                  var currentLinkedinButton = this;\n                  $K(\"body\").append(\"<div class='linkedin contact-detail'><iframe src=http://www.linkedin.com/commonSearch?type=people&keywords='\" + escape(currentName) + \"' width='100%' height='500' ></iframe></div>\");\n                  var currentLinkedinFrame = $K(\"div.linkedin:last\");\n                  $K(currentLinkedinFrame).css({\n                      \"top\": $K(nameDom).offset().top + $K(nameDom).height() + 2\n                  });\n                  $K(currentLinkedinButton).unbind().click(function() {\n                      $K(currentLinkedinFrame).slideToggle();\n                  });\n                }); // end of linkedin\n                \n                ////// twitter search on account name\n                $K(nameDom).append(\"<img class='tweets' src='https://kynetx-apps.s3.amazonaws.com/salesforce/twitter-btn.png'/>\");\n                var currentTwitterButton = $K(currentRow).find(\"img.tweets\");\n                $K(currentTwitterButton).css({\n                  \"margin-bottom\":\"-2px\"\n                });\n                $K(\"body\").append(\"<div id='twitter-search' class='twitter-search'><table></table></div>\");\n                var currentTwitterFrame = $K(\"div.twitter-search:last\");\n                $K(currentTwitterFrame).css({\n                    \"top\": $K(currentTwitterButton).offset().top + $K(currentTwitterButton).height(),\n                    \"position\": \"absolute\",\n                    \"width\": \"98%\",\n                    \"z-index\":\"9999\"\n                });\n                $K(currentTwitterButton).click(function() {\n                  $K(currentTwitterFrame).find(\"table\").append(\"<tr><td class='search-tweets-1'><img class='waiting' src='https://kynetx-apps.s3.amazonaws.com/salesforce/waiting.gif'/></td><td class='search-tweets-2'></td><td class='search-tweets-3'></td></tr>\");\n                  $K.ajax({\n                    url: \"http://search.twitter.com/search.json\",\n                    dataType: \"jsonp\",\n                    data: {\n                      \"callback\": \"\",\n                      \"q\": accountName\n                    },\n                    success: function(msg) {\n                      $K(currentTwitterFrame).find(\"img.waiting\").hide();\n                      results = msg.results;\n                      tweetCount = results.length;\n                      if(tweetCount != 0) {\n                        range1 = tweetCount / 3;\n                        range2 = range1 * 2;\n                        for (i in results) {\n                          r = results[i];\n                          if (i < range1) {\n                              insertPoint = \".search-tweets-1\";\n                          } else if (i < range2) {\n                              insertPoint = \".search-tweets-2\";\n                          } else {\n                              insertPoint = \".search-tweets-3\";\n                          }\n                          $K(currentTwitterFrame).find(insertPoint).append(\"<div class='search-tweet'><img src='\" + r.profile_image_url + \"' style='height:50px;' /><span class='user'>\" + r.from_user + \":</span><span class='tweet'>\" + r.text + \"</span></div>\");\n                        }\n                      } else {\n                        $K(currentTwitterFrame).append(\"<h1>No tweets were found when searching for '\" + name + \"'.<h1>\");\n                      }\n                    },\n                    error: function() {\n                        alert(\"There was an error trying to retrieve tweets. Please refresh and try again if you are feeling brave.\");\n                    }\n                  }); // end of ajax\n                  $K(currentTwitterButton).unbind();\n                  $K(currentTwitterButton).click(function() {\n                      $K(currentTwitterFrame).slideToggle();\n                  });\n                }); // end of twitter search\n                \n              } // end of name length check\n              \n             // Phone skype\n              if( currentPhone.length ) {\n                $K(phoneDom).append(generateSkype(currentPhone));\n              }\n              \n            }); // end of each\n          } // end of contactBlock exists\n        } // end of account name stuff\n        \n        ///////////////////////\n        // Account home page (Recent)\n        ///////////////////////\n        if( $K(\".hotListElement\").exists() ) {\n          $K(\".hotListElement tr.dataRow\").each(function() {\n            var currentRow = this;\n            var currentRowWidth = $K(currentRow).width();\n            var name = $K(currentRow).find(\"th\").text();\n            //// phone skype\n            var phone = $K(currentRow).find(\"td:eq(1)\").text().replace(/-|\\s/g, \"\");\n            if (phone.length) {\n              $K(currentRow).find(\"td:eq(1)\").append(generateSkype(phone));\n            }\n            ////google news search based on name\n            $K(currentRow).find(\"th\").prepend(\"<img class='google-news' src='https://kynetx-apps.s3.amazonaws.com/salesforce/news-btn.png'/>\");\n            $K(currentRow).find(\"img.google-news\").click(function() {\n                var currentGoogleButton = this;\n                $K(currentRow).after(\"<div class='google-news-search'><iframe src='http://news.google.com/news/search?q=\" + escape(name) + \"' width='\" + currentRowWidth + \"' height='500' ></iframe></div>\");\n                var currentGoogleFrame = $K(currentRow).next();\n                $K(currentGoogleFrame).css({\n                    \"top\": $K(currentRow).offset().top + $K(currentRow).height()\n                });\n                $K(currentGoogleButton).unbind().click(function() {\n                    $K(currentGoogleFrame).slideToggle();\n                });\n            });\n            //// blog search based on account name\n            $K(currentRow).find(\"th\").prepend(\"<img class='blogs' src='https://kynetx-apps.s3.amazonaws.com/salesforce/blog-btn.png'/>\");\n            $K(currentRow).find(\"img.blogs\").click(function() {\n                var currentBlogButton = this;\n                $K(currentRow).after(\"<div class='blogs-search'><iframe src='http://blogsearch.google.com/blogsearch?q=\" + escape(name) + \"' width='\" + currentRowWidth + \"' height='500' ></iframe></div>\");\n                var currentBlogFrame = $K(currentRow).next();\n                $K(currentBlogFrame).css({\n                    \"top\": $K(currentRow).offset().top + $K(currentRow).height()\n                });\n                $K(currentBlogButton).unbind().click(function() {\n                    $K(currentBlogFrame).slideToggle();\n                });\n            }); // end of blog search\n            //// twitter search\n            $K(currentRow).find(\"th\").prepend(\"<img class='twitter-search' src='https://kynetx-apps.s3.amazonaws.com/salesforce/twitter-btn.png'/>\");\n            var currentTwitterButton = $K(currentRow).find(\".twitter-search\");\n            $K(currentRow).after(\"<div class='twitter-search-frame'><table></table></div>\");\n            var currentTwitterFrame = $K(currentRow).next();\n            $K(currentTwitterButton).click(function() {\n              $K(currentTwitterFrame).find(\"table\").append(\"<tr><td class='search-tweets-1'><img class='waiting' src='https://kynetx-apps.s3.amazonaws.com/salesforce/waiting.gif'/></td><td class='search-tweets-2'></td><td class='search-tweets-3'></td></tr>\");\n              $K.ajax({\n                url: \"http://search.twitter.com/search.json\",\n                dataType: \"jsonp\",\n                data: {\n                  \"callback\": \"\",\n                  \"q\": name\n                },\n                success: function(msg) {\n                  $K(currentTwitterFrame).find(\"img.waiting\").hide();\n                  results = msg.results;\n                  tweetCount = results.length;\n                  if(tweetCount != 0) {\n                    range1 = tweetCount / 3;\n                    range2 = range1 * 2;\n                    for (i in results) {\n                      r = results[i];\n                      if (i < range1) {\n                          insertPoint = \".search-tweets-1\";\n                      } else if (i < range2) {\n                          insertPoint = \".search-tweets-2\";\n                      } else {\n                          insertPoint = \".search-tweets-3\";\n                      }\n                      $K(currentTwitterFrame).find(insertPoint).append(\"<div class='search-tweet'><img src='\" + r.profile_image_url + \"' style='height:50px;' /><span class='user'>\" + r.from_user + \":</span><span class='tweet'>\" + r.text + \"</span></div>\");\n                    }\n                  } else {\n                    $K(currentTwitterFrame).append(\"<h1>No tweets were found when searching for '\" + name + \"'.<h1>\");\n                  }\n                },\n                error: function() {\n                    alert(\"There was an error trying to retrieve tweets. Please refresh and try again if you are feeling brave.\");\n                }\n              }); // end of ajax\n              $K(currentTwitterButton).unbind();\n              $K(currentTwitterButton).click(function() {\n                  $K(currentTwitterFrame).slideToggle();\n              });\n            }); // end of twitter search\n          }); // end of each on recent table\n        } // END OF ACCOUNT HOME PAGE (RECENT)\n      "}],"post":null,"pre":null,"name":"accounts_detail_page","start_col":3,"emit":null,"state":"active","callbacks":null,"pagetype":{"event_expr":{"pattern":"salesforce.com\\/001","legacy":1,"type":"prim_event","vars":null,"op":"pageview"},"foreach":[]},"start_line":151},{"cond":{"val":"true","type":"bool"},"blocktype":"every","actions":[{"label":null,"emit":"///////////////////////\n        // Contacts home page (Recent)\n        ///////////////////////\n        if( $K(\"h2.pageDescription\").text().replace(/\\s/,\"\") == \"Home\" ) {\n          $K(\".hotListElement tr.dataRow\").each(function() {\n            var currentRow = this;\n            var currentRowWidth = $K(currentRow).width();\n            var name = $K(currentRow).find(\"th a\").text();\n            var nameDom = $K(currentRow).find(\"th\");\n            var phone = $K(currentRow).find(\"td:eq(1)\").text().replace(/-|\\s/g, \"\");\n            // Phone skype\n            if( phone.length ) {\n              $K(currentRow).find(\"td:eq(1)\").append(generateSkype(phone));\n            }\n            // name searches\n            if( name.length ) {\n               // LinkedIn            \n              $K(nameDom).prepend(\"<img class='linkedin' src='https://kynetx-apps.s3.amazonaws.com/salesforce/linkedin.png'/>\");\n              $K(nameDom).find(\"img.linkedin\").css({\n                \"margin-right\":\"5px\"\n              }).click(function() {     \n                var currentLinkedinButton = this;\n                $K(currentRow).after(\"<div class='linkedin'><iframe src=http://www.linkedin.com/commonSearch?type=people&keywords='\" + escape(name) + \"' width='\" + currentRowWidth + \"' height='500' ></iframe></div>\");\n                var currentLinkedinFrame = $K(\"div.linkedin:last\");\n                $K(currentLinkedinButton).unbind().click(function() {\n                    $K(currentLinkedinFrame).slideToggle();\n                });\n              }); // end of linkedin\n              \n              ////google news search based on name\n              $K(currentRow).find(\"th\").prepend(\"<img class='google-news' src='https://kynetx-apps.s3.amazonaws.com/salesforce/news-btn.png'/>\");\n              $K(currentRow).find(\"img.google-news\").click(function() {\n                  var currentGoogleButton = this;\n                  $K(currentRow).after(\"<div class='google-news-search'><iframe src='http://news.google.com/news/search?q=\" + escape(name) + \"' width='\" + currentRowWidth + \"' height='500' ></iframe></div>\");\n                  var currentGoogleFrame = $K(currentRow).next();\n                  $K(currentGoogleFrame).css({\n                      \"top\": $K(currentRow).offset().top + $K(currentRow).height()\n                  });\n                  $K(currentGoogleButton).unbind().click(function() {\n                      $K(currentGoogleFrame).slideToggle();\n                  });\n              });\n              //// blog search based on account name\n              $K(currentRow).find(\"th\").prepend(\"<img class='blogs' src='https://kynetx-apps.s3.amazonaws.com/salesforce/blog-btn.png'/>\");\n              $K(currentRow).find(\"img.blogs\").click(function() {\n                  var currentBlogButton = this;\n                  $K(currentRow).after(\"<div class='blogs-search'><iframe src='http://blogsearch.google.com/blogsearch?q=\" + escape(name) + \"' width='\" + currentRowWidth + \"' height='500' ></iframe></div>\");\n                  var currentBlogFrame = $K(currentRow).next();\n                  $K(currentBlogFrame).css({\n                      \"top\": $K(currentRow).offset().top + $K(currentRow).height()\n                  });\n                  $K(currentBlogButton).unbind().click(function() {\n                      $K(currentBlogFrame).slideToggle();\n                  });\n              }); // end of blog search\n              //// twitter search\n              $K(currentRow).find(\"th\").prepend(\"<img class='twitter-search' src='https://kynetx-apps.s3.amazonaws.com/salesforce/twitter-btn.png'/>\");\n              var currentTwitterButton = $K(currentRow).find(\".twitter-search\");\n              $K(currentRow).after(\"<div class='twitter-search-frame'><table></table></div>\");\n              var currentTwitterFrame = $K(currentRow).next();\n              $K(currentTwitterButton).click(function() {\n                $K(currentTwitterFrame).find(\"table\").append(\"<tr><td class='search-tweets-1'><img class='waiting' src='https://kynetx-apps.s3.amazonaws.com/salesforce/waiting.gif'/></td><td class='search-tweets-2'></td><td class='search-tweets-3'></td></tr>\");\n                $K.ajax({\n                  url: \"http://search.twitter.com/search.json\",\n                  dataType: \"jsonp\",\n                  data: {\n                    \"callback\": \"\",\n                    \"q\": name\n                  },\n                  success: function(msg) {\n                    $K(currentTwitterFrame).find(\"img.waiting\").hide();\n                    results = msg.results;\n                    tweetCount = results.length;\n                    if(tweetCount != 0) {\n                      range1 = tweetCount / 3;\n                      range2 = range1 * 2;\n                      for (i in results) {\n                        r = results[i];\n                        if (i < range1) {\n                            insertPoint = \".search-tweets-1\";\n                        } else if (i < range2) {\n                            insertPoint = \".search-tweets-2\";\n                        } else {\n                            insertPoint = \".search-tweets-3\";\n                        }\n                        $K(currentTwitterFrame).find(insertPoint).append(\"<div class='search-tweet'><img src='\" + r.profile_image_url + \"' style='height:50px;' /><span class='user'>\" + r.from_user + \":</span><span class='tweet'>\" + r.text + \"</span></div>\");\n                      }\n                    } else {\n                      $K(currentTwitterFrame).append(\"<h1>No tweets were found when searching for '\" + name + \"'.<h1>\");\n                    }\n                  },\n                  error: function() {\n                      alert(\"There was an error trying to retrieve tweets. Please refresh and try again if you are feeling brave.\");\n                  }\n                }); // end of ajax\n                $K(currentTwitterButton).unbind();\n                $K(currentTwitterButton).click(function() {\n                    $K(currentTwitterFrame).slideToggle();\n                });\n              }); // end of twitter search\n            } // end of 'if name.length'\n          }); // end of each loop for contacts\n        } // End of contacts home page (Recent)\n        ///////////////////////\n        // Contacts List Page (all)\n        ///////////////////////\n        if( $K(\"#00BA0000003ZDip_topNav\").exists() ) {\n          $K(\"head\").append(\"<script>window.onerror = function() { return true }</script>\");\n          $K(\"#ext-gen9 > div\").each(function() {\n            var currentRow = this;\n            // name\n            var name = $K(currentRow).find(\"tr:first td:eq(3) div a\").text();  \n            ////google news search based on name\n            $K(currentRow).find(\"tr:first td:eq(3)\").append(\"<img class='google-news' src='https://kynetx-apps.s3.amazonaws.com/salesforce/news-btn.png'/>\");\n            $K(currentRow).find(\"img.google-news\").click(function() {\n                var currentGoogleButton = this;\n                $K(currentRow).append(\"<div class='google-news-search'><iframe src='http://news.google.com/news/search?q=\" + escape(name) + \"' width='100%' height='500' ></iframe></div>\");\n                var currentGoogleFrame = $K(currentRow).find(\".google-news-search\");\n                $K(currentGoogleFrame).css({\n                    \"top\": $K(currentRow).offset().top + $K(currentRow).height()\n                });\n                $K(currentGoogleButton).unbind().click(function() {\n                    $K(currentGoogleFrame).slideToggle();\n                });\n            });\n            //// blog search based on account name\n            $K(currentRow).find(\"tr:first td:eq(3)\").append(\"<img class='blogs' src='https://kynetx-apps.s3.amazonaws.com/salesforce/blog-btn.png'/>\");\n            $K(currentRow).find(\"img.blogs\").click(function() {\n                var currentBlogButton = this;\n                $K(currentRow).append(\"<div class='blogs-search'><iframe src='http://blogsearch.google.com/blogsearch?q=\" + escape(name) + \"' width='100%' height='500' ></iframe></div>\");\n                var currentBlogFrame = $K(currentRow).find(\".blogs-search\");\n                $K(currentBlogFrame).css({\n                    \"top\": $K(currentRow).offset().top + $K(currentRow).height()\n                });\n                $K(currentBlogButton).unbind().click(function() {\n                    $K(currentBlogFrame).slideToggle();\n                });\n            }); // end of blog search\n            //// twitter search\n            $K(currentRow).find(\"tr:first td:eq(3)\").append(\"<img class='twitter-search' src='https://kynetx-apps.s3.amazonaws.com/salesforce/twitter-btn.png'/>\");\n            var currentTwitterButton = $K(currentRow).find(\".twitter-search\");\n            $K(currentRow).append(\"<div class='twitter-search-frame'><table></table></div>\");\n            var currentTwitterFrame = $K(currentRow).find(\".twitter-search-frame\");\n            $K(currentTwitterButton).click(function() {\n              $K(currentTwitterFrame).find(\"table\").append(\"<tr><td class='search-tweets-1'><img class='waiting' src='https://kynetx-apps.s3.amazonaws.com/salesforce/waiting.gif'/></td><td class='search-tweets-2'></td><td class='search-tweets-3'></td></tr>\");\n              $K.ajax({\n                url: \"http://search.twitter.com/search.json\",\n                dataType: \"jsonp\",\n                data: {\n                  \"callback\": \"\",\n                  \"q\": name\n                },\n                success: function(msg) {\n                  $K(currentTwitterFrame).find(\"img.waiting\").hide();\n                  results = msg.results;\n                  tweetCount = results.length;\n                  if(tweetCount != 0) {\n                    range1 = tweetCount / 3;\n                    range2 = range1 * 2;\n                    for (i in results) {\n                      r = results[i];\n                      if (i < range1) {\n                          insertPoint = \".search-tweets-1\";\n                      } else if (i < range2) {\n                          insertPoint = \".search-tweets-2\";\n                      } else {\n                          insertPoint = \".search-tweets-3\";\n                      }\n                      $K(currentTwitterFrame).find(insertPoint).append(\"<div class='search-tweet'><img src='\" + r.profile_image_url + \"' style='height:50px;' /><span class='user'>\" + r.from_user + \":</span><span class='tweet'>\" + r.text + \"</span></div>\");\n                    }\n                  } else {\n                    $K(currentTwitterFrame).append(\"<h1>No tweets were found when searching for '\" + name + \"'.<h1>\");\n                  }\n                  $K(currentTwitterButton).unbind();\n                  $K(currentTwitterButton).click(function() {\n                      $K(currentTwitterFrame).slideToggle();\n                  });\n                },\n                error: function() {\n                    alert(\"There was an error trying to retrieve tweets. Please refresh and try again if you are feeling brave.\");\n                }\n              }); // end of ajax\n            }); // end of twitter search\n            // Phone\n            var phone = $K(currentRow).find(\"tr:first td:eq(6) div\").text(); \n            phone = phone.replace(/-|\\s/g, \"\"); \n            if(phone.length) {\n              $K(currentRow).find(\"tr:first td:eq(6)\").append(generateSkype(phone));\n            }\n            // LinkedIn            \n            $K(currentRow).find(\"tr:first td:eq(3)\").append(\"<img class='linkedin' src='https://kynetx-apps.s3.amazonaws.com/salesforce/linkedin.png'/>\");\n            $K(currentRow).find(\"img.linkedin\").click(function() {     \n              var currentLinkedinButton = this;\n              $K(currentRow).append(\"<div class='linkedin' style='width: 93%; position: absolute; right: 30px; border: 1px solid black; background-color: white;'><iframe src=http://www.linkedin.com/commonSearch?type=people&keywords='\" + escape(name) + \"' width='100%' height='500' ></iframe></div>\");\n              var currentLinkedinFrame = $K(currentRow).find(\"div.linkedin\");\n              $K(currentLinkedinButton).unbind().click(function() {\n                  $K(currentLinkedinFrame).slideToggle();\n              });\n            }); // end of name search\n          }); // END OF LOOP FOR EACH ROW ON CONTACT LIST PAGE\n        }\n        ///////////////////////\n        // Contacts Detail\n        ///////////////////////\n        if( $K(\"h1.pageType\").text() == \"Contact:\" ) {\n          var name = $K(\"div#con2_ileinner\").text();\n          var nameDom = $K(\"div#con2_ileinner\");\n          var phone = $K(\"div#con10_ileinner\").text();\n          var phoneDom = $K(\"div#con10_ileinner\");\n          var address = $K(\"div#con19_ileinner\").text();\n          var addressDom = $K(\"div#con19_ileinner\");\n          // Name\n            // LinkedIn            \n          $K(nameDom).prepend(\"<img class='linkedin' src='https://kynetx-apps.s3.amazonaws.com/salesforce/linkedin.png'/>\");\n          $K(\"img.linkedin\").click(function() {     \n            var currentLinkedinButton = this;\n            $K(\"body\").append(\"<div class='linkedin contact-detail'><iframe src=http://www.linkedin.com/commonSearch?type=people&keywords='\" + escape(name) + \"' width='100%' height='500' ></iframe></div>\");\n            var currentLinkedinFrame = $K(\"div.linkedin\");\n            $K(currentLinkedinFrame).css({\n                \"top\": $K(nameDom).offset().top + $K(nameDom).height()\n            });\n            $K(currentLinkedinButton).unbind().click(function() {\n                $K(currentLinkedinFrame).slideToggle();\n            });\n          }); // end of linkedin\n          //// twitter search\n          var currentRow = $K(\".detailList:first tr:first\");\n          $K(nameDom).prepend(\"<img class='twitter-search' src='https://kynetx-apps.s3.amazonaws.com/salesforce/twitter-btn.png'/>\");\n          var currentTwitterButton = $K(\"img.twitter-search\");\n          $K(\".detailList:first tr:eq(1)\").after(\"<tr id='append-here'></tr>\");\n          $K(\"#append-here\").append(\"<div id='contact-detail-twitter' class='twitter-search-frame'><table></table></div>\");\n          var currentTwitterFrame = $K(\"div.twitter-search-frame\").parent();\n          $K(\"img.twitter-search\").click(function() {\n            $K(currentTwitterFrame).find(\"table\").append(\"<tr><td class='search-tweets-1'><img class='waiting' src='https://kynetx-apps.s3.amazonaws.com/salesforce/waiting.gif'/></td><td class='search-tweets-2'></td><td class='search-tweets-3'></td></tr>\");\n            $K.ajax({\n              url: \"http://search.twitter.com/search.json\",\n              dataType: \"jsonp\",\n              data: {\n                \"callback\": \"\",\n                \"q\": name\n              },\n              success: function(msg) {\n                $K(currentTwitterFrame).find(\"img.waiting\").hide();\n                results = msg.results;\n                tweetCount = results.length;\n                if(tweetCount != 0) {\n                  range1 = tweetCount / 3;\n                  range2 = range1 * 2;\n                  for (i in results) {\n                    r = results[i];\n                    if (i < range1) {\n                        insertPoint = \".search-tweets-1\";\n                    } else if (i < range2) {\n                        insertPoint = \".search-tweets-2\";\n                    } else {\n                        insertPoint = \".search-tweets-3\";\n                    }\n                    $K(currentTwitterFrame).find(insertPoint).append(\"<div class='search-tweet'><img src='\" + r.profile_image_url + \"' style='height:50px;' /><span class='user'>\" + r.from_user + \":</span><span class='tweet'>\" + r.text + \"</span></div>\");\n                  }\n                } else {\n                  $K(currentTwitterFrame).append(\"<h1>No tweets were found when searching for '\" + name + \"'.<h1>\");\n                }\n                $K(currentTwitterButton).unbind();\n                $K(currentTwitterButton).click(function() {\n                    $K(currentTwitterFrame).slideToggle();\n                });\n              },\n              error: function() {\n                  alert(\"There was an error trying to retrieve tweets. Please refresh and try again if you are feeling brave.\");\n              }\n            }); // end of ajax\n          }); // end of twitter search\n          ////google news search based on name\n          $K(nameDom).prepend(\"<img class='google-news' src='https://kynetx-apps.s3.amazonaws.com/salesforce/news-btn.png'/>\");\n          $K(\"img.google-news\").click(function() {\n              var currentGoogleButton = this;\n              var currentRowWidth = $K(\".detailList:first tr:first\").width();\n              $K(\"body\").append(\"<div class='google-news-search contact-detail'><iframe src='http://news.google.com/news/search?q=\" + escape(name) + \"' width='\" + currentRowWidth + \"' height='500' ></iframe></div>\");\n              var currentGoogleFrame = $K(\".google-news-search\");\n              $K(currentGoogleFrame).css({\n                  \"top\": $K(nameDom).offset().top + $K(nameDom).height()\n              });\n              $K(currentGoogleButton).unbind().click(function() {\n                  $K(currentGoogleFrame).slideToggle();\n              });\n          });\n          //// blog search based on account name\n          $K(currentRow).find(\"th\").prepend(\"<img class='blogs' src='https://kynetx-apps.s3.amazonaws.com/salesforce/blog-btn.png'/>\");\n          $K(currentRow).find(\"img.blogs\").click(function() {\n              var currentBlogButton = this;\n              $K(currentRow).after(\"<div class='blogs-search'><iframe src='http://blogsearch.google.com/blogsearch?q=\" + escape(name) + \"' width='\" + currentRowWidth + \"' height='500' ></iframe></div>\");\n              var currentBlogFrame = $K(currentRow).next();\n              $K(currentBlogFrame).css({\n                  \"top\": $K(currentRow).offset().top + $K(currentRow).height()\n              });\n              $K(currentBlogButton).unbind().click(function() {\n                  $K(currentBlogFrame).slideToggle();\n              });\n          }); // end of blog search\n          $K(\"img.twitter-search,img.linkedin\").css({\"margin\":\"0 2px 0px 3px\"});\n          // Phone skype\n          if( phone.length ) {\n            $K(phoneDom).append(generateSkype(phone));\n          }\n          //// MAP\n          if ($K(addressDom).text().replace(/\\s/g, \"\").length != 0) {\n              var billingAddress = $K(addressDom).html().replace(/<br>/gi, \" \").replace(/\\s/gi, \"+\");\n              var mapURL = \"http://maps.google.com/maps?f=d&source=s_d&saddr=&daddr=\" + billingAddress;\n              $K(addressDom).append(\"<br/><img class='map' src='https://kynetx-apps.s3.amazonaws.com/salesforce/map-btn.png'/>\");\n              $K(\"img.map\").click(function() {\n                  offset = $K(this).offset();\n                  $K(\"body\").append(\"<div id='google-map' class='contact-detail'><iframe width='100%' height='600' frameborder='0' marginheight='0' marginwidth='0' src='http://maps.google.com/maps?q=\" + billingAddress + \"'></iframe><br /><small><a href='http://maps.google.com/maps?q=\" + billingAddress + \"&amp;ie=UTF8' style='color:#0000FF;text-align:left'>View Larger Map</a></small></div>\");\n                  $K(\"#google-map\").css({\n                      \"top\": offset.top + $K(this).height()\n                  });\n                  $K(this).unbind().click(function() {\n                      $K(\"div#google-map\").slideToggle();\n                  });\n              });\n          }\n        } // END OF CONTACT DETAILS\n      "}],"post":null,"pre":null,"name":"contacts_tab","start_col":3,"emit":null,"state":"active","callbacks":null,"pagetype":{"event_expr":{"pattern":"salesforce.com\\/003","legacy":1,"type":"prim_event","vars":null,"op":"pageview"},"foreach":[]},"start_line":593}],"meta_start_col":3,"meta":{"logging":"on","name":"SalesForce New Butler","meta_start_line":2,"author":"Mike Grace","description":"Adding Umph to your SalesForce     \n    ","meta_start_col":3},"dispatch_start_line":10,"global_start_col":3,"ruleset_name":"a60x284"}
