{"global":[],"global_start_line":null,"dispatch":[],"dispatch_start_col":null,"meta_start_line":2,"rules":[{"cond":{"val":"true","type":"bool"},"blocktype":"every","actions":[{"action":{"source":null,"name":"notify","args":[{"val":"<u>page:url expression","type":"str"},{"val":"page_data","type":"var"}],"modifiers":[{"value":{"val":"true","type":"bool"},"name":"sticky"},{"value":{"val":"300px","type":"str"},"name":"width"}],"vars":null},"label":null}],"post":null,"pre":[{"rhs":{"source":"page","predicate":"url","args":[{"val":"domain","type":"str"}],"type":"qualified"},"lhs":"PageDomain","type":"expr"},{"rhs":{"source":"page","predicate":"url","args":[{"val":"protocol","type":"str"}],"type":"qualified"},"lhs":"PageProtocol","type":"expr"},{"rhs":{"source":"page","predicate":"url","args":[{"val":"hostname","type":"str"}],"type":"qualified"},"lhs":"PageHostname","type":"expr"},{"rhs":{"source":"page","predicate":"url","args":[{"val":"tld","type":"str"}],"type":"qualified"},"lhs":"PageTopLevelDomain","type":"expr"},{"rhs":{"source":"page","predicate":"url","args":[{"val":"port","type":"str"}],"type":"qualified"},"lhs":"PagePort","type":"expr"},{"rhs":{"source":"page","predicate":"url","args":[{"val":"path","type":"str"}],"type":"qualified"},"lhs":"PagePath","type":"expr"},{"rhs":{"source":"page","predicate":"url","args":[{"val":"query","type":"str"}],"type":"qualified"},"lhs":"PageQuery","type":"expr"},{"rhs":"<br>Domain: #{PageDomain}           <br>Protocol: #{PageProtocol}           <br>Hostname: #{PageHostname}             <br>Top level domain: #{PageTopLevelDomain}             <br>Port: #{PagePort}             <br>Path: #{PagePath}             <br>Query: #{PageQuery}       \n ","lhs":"page_data","type":"here_doc"}],"name":"page_url","start_col":5,"emit":null,"state":"active","callbacks":null,"pagetype":{"event_expr":{"pattern":".*","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":10},{"cond":{"val":"true","type":"bool"},"blocktype":"every","actions":[{"action":{"source":null,"name":"notify","args":[{"val":"<u>page:env expression","type":"str"},{"val":"data","type":"var"}],"modifiers":null,"vars":null},"label":null}],"post":null,"pre":[{"rhs":{"source":"page","predicate":"env","args":[{"val":"caller","type":"str"}],"type":"qualified"},"lhs":"caller","type":"expr"},{"rhs":{"source":"page","predicate":"env","args":[{"val":"ip","type":"str"}],"type":"qualified"},"lhs":"ip","type":"expr"},{"rhs":{"source":"page","predicate":"env","args":[{"val":"referer","type":"str"}],"type":"qualified"},"lhs":"referer","type":"expr"},{"rhs":{"source":"page","predicate":"env","args":[{"val":"rid","type":"str"}],"type":"qualified"},"lhs":"rid","type":"expr"},{"rhs":{"source":"page","predicate":"env","args":[{"val":"rule_version","type":"str"}],"type":"qualified"},"lhs":"rule_version","type":"expr"},{"rhs":{"source":"page","predicate":"env","args":[{"val":"title","type":"str"}],"type":"qualified"},"lhs":"title","type":"expr"},{"rhs":{"source":"page","predicate":"env","args":[{"val":"txn_id","type":"str"}],"type":"qualified"},"lhs":"txn_id","type":"expr"},{"rhs":"<br>Caller: #{caller}             <br>IP: #{ip}          <br>Referrer: #{referer}              <br>Ruleset ID: #{rid}             <br>Version : #{rule_version}             <br>Page Title: #{title}             <br>Transaction ID: #{txn_id}         \n ","lhs":"data","type":"here_doc"}],"name":"page_env","start_col":5,"emit":null,"state":"active","callbacks":null,"pagetype":{"event_expr":{"pattern":".*","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":30},{"cond":{"val":"true","type":"bool"},"blocktype":"every","actions":[{"action":{"source":null,"name":"notify","args":[{"val":"<u>useragent expression","type":"str"},{"val":"data","type":"var"}],"modifiers":[{"value":{"val":"true","type":"bool"},"name":"sticky"}],"vars":null},"label":null}],"post":null,"pre":[{"rhs":{"source":"useragent","predicate":"language","args":[],"type":"qualified"},"lhs":"Language","type":"expr"},{"rhs":{"source":"useragent","predicate":"language_code","args":[],"type":"qualified"},"lhs":"LanguageCode","type":"expr"},{"rhs":{"source":"useragent","predicate":"browser_name","args":[],"type":"qualified"},"lhs":"BrowserName","type":"expr"},{"rhs":{"source":"useragent","predicate":"browser_version","args":[],"type":"qualified"},"lhs":"BrowserVersion","type":"expr"},{"rhs":{"source":"useragent","predicate":"browser_version_major","args":[],"type":"qualified"},"lhs":"BrowserVersionMajor","type":"expr"},{"rhs":{"source":"useragent","predicate":"browser_version_minor","args":[],"type":"qualified"},"lhs":"BrowserVersionMinor","type":"expr"},{"rhs":{"source":"useragent","predicate":"os","args":[],"type":"qualified"},"lhs":"OS","type":"expr"},{"rhs":{"source":"useragent","predicate":"os_type","args":[],"type":"qualified"},"lhs":"OSType","type":"expr"},{"rhs":{"source":"useragent","predicate":"os_version","args":[],"type":"qualified"},"lhs":"OSVersion","type":"expr"},{"rhs":"<br>Language: #{Language}           \t<br>Language Code: #{LanguageCode}           \t<br>Browser Name: #{BrowserName}           \t<br>Browser Version: #{BrowserVersion}           \t<br>Browser Version Minor: #{BrowserVersionMinor}   \t<br>Browser Version Major: #{BrowserVersionMajor}         \t<br>OS: #{OS}           \t<br>OS Type: #{OSType}            \t<br>OS Version: #{OSVersion}          \n ","lhs":"data","type":"here_doc"}],"name":"useragent","start_col":5,"emit":null,"state":"active","callbacks":null,"pagetype":{"event_expr":{"pattern":".*","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":47},{"cond":{"val":"true","type":"bool"},"blocktype":"every","actions":[{"action":{"source":null,"name":"notify","args":[{"val":"<u> weather expression","type":"str"},{"val":"weatherdata","type":"var"}],"modifiers":[{"value":{"val":"true","type":"bool"},"name":"sticky"}],"vars":null},"label":null}],"post":null,"pre":[{"rhs":{"source":"weather","predicate":"curr_temp","args":[],"type":"qualified"},"lhs":"current_temp","type":"expr"},{"rhs":{"source":"weather","predicate":"curr_cond","args":[],"type":"qualified"},"lhs":"current_conditions","type":"expr"},{"rhs":{"source":"weather","predicate":"curr_cond_code","args":[],"type":"qualified"},"lhs":"yahoo_current_condition_code","type":"expr"},{"rhs":{"source":"weather","predicate":"tomorrow_low","args":[],"type":"qualified"},"lhs":"tomorrows_low","type":"expr"},{"rhs":{"source":"weather","predicate":"tomorrow_high","args":[],"type":"qualified"},"lhs":"tomorrows_high","type":"expr"},{"rhs":{"source":"weather","predicate":"tomorrow_cond","args":[],"type":"qualified"},"lhs":"tomorrows_condition","type":"expr"},{"rhs":{"source":"weather","predicate":"tomorrow_cond_code","args":[],"type":"qualified"},"lhs":"tomorrows_condition_code","type":"expr"},{"rhs":"<br> Current temperature: #{current_temp}      \t<br> Current conditions: #{current_conditions}      \t<br> Yahoo current conditions code: #{yahoo_current_condition_code}      \t<br> Tommorow's low: #{tomorrows_low}      \t<br> Tomorrow's high: #{tomorrows_high}      \t<br> Tomorrow's condition: #{tomorrows_condition}      \t<br> Yahoo tomorrow's condition code: #{tomorrows_condition_code}                 \n ","lhs":"weatherdata","type":"here_doc"}],"name":"weather","start_col":5,"emit":null,"state":"active","callbacks":null,"pagetype":{"event_expr":{"pattern":".*","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":68},{"cond":{"val":"true","type":"bool"},"blocktype":"every","actions":[{"action":{"source":null,"name":"notify","args":[{"val":"<u> location expression","type":"str"},{"val":"weatherdata","type":"var"}],"modifiers":[{"value":{"val":"true","type":"bool"},"name":"sticky"}],"vars":null},"label":null}],"post":null,"pre":[{"rhs":{"source":"location","predicate":"country_code","args":[],"type":"qualified"},"lhs":"CountryCode","type":"expr"},{"rhs":{"source":"location","predicate":"country_name","args":[],"type":"qualified"},"lhs":"CountryName","type":"expr"},{"rhs":{"source":"location","predicate":"region","args":[],"type":"qualified"},"lhs":"Region","type":"expr"},{"rhs":{"source":"location","predicate":"city","args":[],"type":"qualified"},"lhs":"City","type":"expr"},{"rhs":{"source":"location","predicate":"postal_code","args":[],"type":"qualified"},"lhs":"PostalCode","type":"expr"},{"rhs":{"source":"location","predicate":"latitude","args":[],"type":"qualified"},"lhs":"Latitude","type":"expr"},{"rhs":{"source":"location","predicate":"longitude","args":[],"type":"qualified"},"lhs":"Longitude","type":"expr"},{"rhs":{"source":"location","predicate":"dma_code","args":[],"type":"qualified"},"lhs":"DmaCode","type":"expr"},{"rhs":{"source":"location","predicate":"area_code","args":[],"type":"qualified"},"lhs":"AreaCode","type":"expr"},{"rhs":"<br> Contry code: #{CountryCode}      \t<br> Country name: #{CountryName}      \t<br> State or Region: #{Region}      \t<br> City: #{City}  \t<br> Zip or Postal code: #{PostalCode}      \t<br> Latitude: #{Latitude}  \t<br> Longitude: #{Longitude}      \t<br> DMA code: #{DmaCode}      \t<br> Area code: #{AreaCode}                 \n ","lhs":"weatherdata","type":"here_doc"}],"name":"location","start_col":5,"emit":null,"state":"active","callbacks":null,"pagetype":{"event_expr":{"pattern":".*","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":87},{"cond":{"val":"true","type":"bool"},"blocktype":"every","actions":[{"action":{"source":null,"name":"notify","args":[{"val":"<u> Media Market","type":"str"},{"val":"MediaMarketData","type":"var"}],"modifiers":[{"value":{"val":"true","type":"bool"},"name":"sticky"}],"vars":null},"label":null}],"post":null,"pre":[{"rhs":{"source":"mediamarket","predicate":"name","args":[],"type":"qualified"},"lhs":"MediaMarketName","type":"expr"},{"rhs":{"source":"mediamarket","predicate":"rank","args":[],"type":"qualified"},"lhs":"MediaMarketRank","type":"expr"},{"rhs":{"source":"mediamarket","predicate":"household","args":[],"type":"qualified"},"lhs":"MediaMarketHousehold","type":"expr"},{"rhs":"<br> Media market name: #{MediaMarketName}      \t<br> Media market rank: #{MediaMarketRank}      \t<br> Number of households with TVs in your market: #{MediaMarketHousehold}      \t                 \n ","lhs":"MediaMarketData","type":"here_doc"}],"name":"mediamarket","start_col":5,"emit":null,"state":"active","callbacks":null,"pagetype":{"event_expr":{"pattern":".*","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":108}],"meta_start_col":5,"meta":{"logging":"off","name":"Intrinsic Datasources","meta_start_line":2,"author":"Craig Burton","description":"Tutorial on Intrinsic Data Sources    \n","meta_start_col":5},"dispatch_start_line":null,"global_start_col":null,"ruleset_name":"a35x13"}
