{"global":[],"global_start_line":15,"dispatch":[],"dispatch_start_col":3,"meta_start_line":2,"rules":[{"cond":{"val":"true","type":"bool"},"blocktype":"every","actions":[{"action":{"source":null,"name":"append","args":[{"val":"head","type":"str"},{"val":"pageVariables","type":"var"}],"modifiers":null,"vars":null},"label":null},{"label":null,"emit":"kvars.isbns = []; // JavaScript global variable.\n         // Or you can search the parenpage using .informational.\n         $K(\".prodDesc tr td\").each(function(){ \n            var regex = /\\d{5}|\\d{10}|\\d{13}/;\n            var i = 0; // Index.\n            if(regex.test($K(this).text()))\n            {\n               kvars.isbns[i++] = $K(this).text(); // Capture the isbn here.\n               console.log($K(this).text());\n            }\n         });\n         // Remove 'a691x5:kynetx_app_version':'dev' below when testing is finished.\n         KOBJ.add_app_config({'rids':['a691x5']});\n         var mypp = KOBJ.get_application(\"a691x5\");\n         mypp.reload();  \n         "}],"post":null,"pre":[{"rhs":"<script type=\"text/javascript\">         \n          var kvars = {};       \n        </script>      \n      ","lhs":"pageVariables","type":"here_doc"}],"name":"first_rule","start_col":3,"emit":null,"state":"active","callbacks":null,"pagetype":{"event_expr":{"domain":null,"pattern":".*","type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":17}],"meta_start_col":3,"meta":{"authz":{"level":"user","type":"require"},"logging":"on","name":"BYU-I Price Comparison","meta_start_line":2,"author":"Jason Rice","description":"Part one of the price comparison. Calls the Amazon rule. \n    ","meta_start_col":3},"dispatch_start_line":13,"global_start_col":3,"ruleset_name":"a691x4"}
