{"global":[{"source":"http://fmm.kynetx.com/lookup/","name":"maps","type":"datasource","datatype":"JSON","cachable":{"period":"seconds","value":"1"}},{"rhs":{"source":"page","predicate":"env","args":[{"val":"caller","type":"str"}],"type":"qualified"},"lhs":"fullurl","type":"expr"},{"rhs":{"source":"page","predicate":"url","args":[{"val":"domain","type":"str"}],"type":"qualified"},"lhs":"d","type":"expr"},{"rhs":{"source":"datasource","predicate":"maps","args":[{"source":"page","predicate":"url","args":[{"val":"domain","type":"str"}],"type":"qualified"}],"type":"qualified"},"lhs":"maps","type":"expr"},{"content":"#KOBJDetailBox {\n      background-color: white;\n      padding: 4px;\n      color: black;\n    }\n  ","type":"css"}],"global_start_line":15,"dispatch":[],"dispatch_start_col":1,"meta_start_line":2,"rules":[{"cond":{"val":"true","type":"bool"},"blocktype":"every","actions":[{"action":{"source":null,"name":"notify","args":[{"val":"Maps for #{d}","type":"str"},{"val":"detailbox","type":"var"}],"modifiers":[{"value":{"val":"true","type":"bool"},"name":"sticky"},{"value":{"val":"500","type":"str"},"name":"width"}]},"label":null}],"post":null,"pre":[{"rhs":"<div id=\"KOBJDetailBox\">\n        <b>Maps</b><br/>\n      </div>\n    ","lhs":"detailbox","type":"here_doc"}],"name":"lookupmaps","start_col":1,"emit":null,"state":"active","callbacks":null,"pagetype":{"event_expr":{"pattern":".*","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[]},"start_line":31},{"cond":{"val":"true","type":"bool"},"blocktype":"every","actions":[{"action":{"source":null,"name":"append","args":[{"val":"#KOBJDetailBox","type":"str"},{"val":"#{regexstring}<br/> ","type":"str"}],"modifiers":null},"label":null}],"post":null,"pre":[{"rhs":{"obj":{"val":"map","type":"var"},"args":[{"val":"$.regex","type":"str"}],"name":"pick","type":"operator"},"lhs":"regexstring","type":"expr"}],"name":"listmaps","start_col":1,"emit":null,"state":"active","callbacks":null,"pagetype":{"event_expr":{"pattern":".*","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[{"expr":{"val":"maps","type":"var"},"var":["map"]}]},"start_line":43},{"cond":{"obj":{"val":"fullurl","type":"var"},"args":[{"obj":{"val":"excp","type":"var"},"args":[{"val":"regexp","type":"str"}],"name":"as","type":"operator"}],"name":"match","type":"operator"},"blocktype":"every","actions":[{"label":null,"emit":"fieldstring = $K.compactJSON(fields);\n      "},{"action":{"source":null,"name":"append","args":[{"val":"#KOBJDetailBox","type":"str"},{"val":"<br/><b>Map Found</b><br/>URL: #{regexstring}<br/>#{fieldstring}<br/> ","type":"str"}],"modifiers":null},"label":null}],"post":null,"pre":[{"rhs":{"obj":{"val":"map","type":"var"},"args":[{"val":"$.regex","type":"str"}],"name":"pick","type":"operator"},"lhs":"regexstring","type":"expr"},{"rhs":{"val":"/","type":"str"},"lhs":"slash","type":"expr"},{"rhs":{"args":[{"val":"/","type":"str"},{"args":[{"obj":{"val":"regexstring","type":"var"},"args":[{"args":[{"val":"/","type":"str"},{"args":[{"val":"slash","type":"var"},{"val":"/g","type":"str"}],"type":"prim","op":"+"}],"type":"prim","op":"+"},{"val":"\\/","type":"str"}],"name":"replace","type":"operator"},{"val":"/","type":"str"}],"type":"prim","op":"+"}],"type":"prim","op":"+"},"lhs":"excp","type":"expr"},{"rhs":{"obj":{"val":"map","type":"var"},"args":[{"val":"$.fields","type":"str"}],"name":"pick","type":"operator"},"lhs":"fields","type":"expr"}],"name":"showmatchingmap","start_col":1,"emit":null,"state":"active","callbacks":null,"pagetype":{"event_expr":{"pattern":".*","legacy":1,"type":"prim_event","vars":[],"op":"pageview"},"foreach":[{"expr":{"val":"maps","type":"var"},"var":["map"]}]},"start_line":52}],"meta_start_col":1,"meta":{"logging":"on","name":"FormFill Inspector","meta_start_line":2,"author":"Sam Curren","description":"Shows maps that exist for the current domain \n  ","meta_start_col":1},"dispatch_start_line":11,"global_start_col":1,"ruleset_name":"a8x42"}
